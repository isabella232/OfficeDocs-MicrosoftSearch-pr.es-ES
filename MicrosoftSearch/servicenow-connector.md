---
title: ServiceNow Graph para Microsoft Search
ms.author: mecampos
author: mecampos
manager: umas
audience: Admin
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Configurar el conector de Graph ServiceNow para Microsoft Search
ms.openlocfilehash: ac5d0b23547ce7ccd0d8bb6399b092f9bc9e5303
ms.sourcegitcommit: f12e7ff0a94d30a9de1f93266715180e7530de3f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/10/2021
ms.locfileid: "52879312"
---
<!---Previous ms.author: kam1 --->


# <a name="servicenow-graph-connector"></a><span data-ttu-id="b36fe-103">ServiceNow Graph Connector</span><span class="sxs-lookup"><span data-stu-id="b36fe-103">ServiceNow Graph Connector</span></span>

<span data-ttu-id="b36fe-104">Con Microsoft Graph Connector para ServiceNow, su organización puede indizar artículos de knowledge base que son visibles para todos los usuarios o restringidos con permisos de criterios de usuario dentro de su organización.</span><span class="sxs-lookup"><span data-stu-id="b36fe-104">With the Microsoft Graph Connector for ServiceNow, your organization can index knowledge-base articles that are visible to all users or restricted with user criteria permissions within your organization.</span></span> <span data-ttu-id="b36fe-105">Después de configurar el conector y el contenido de índice de ServiceNow, los usuarios finales pueden buscar esos artículos desde cualquier cliente de Microsoft Search.</span><span class="sxs-lookup"><span data-stu-id="b36fe-105">After you configure the connector and index content from ServiceNow, end users can search for those articles from any Microsoft Search client.</span></span>  

<span data-ttu-id="b36fe-106">Este artículo está para Microsoft 365 administradores o cualquier persona que configure, ejecute y monitore un conector Graph ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="b36fe-106">This article is for Microsoft 365 administrators or anyone who configures, runs, and monitors a ServiceNow Graph  connector.</span></span> <span data-ttu-id="b36fe-107">Complementa las instrucciones generales que se proporcionan en el artículo [Configurar el Graph conector.](configure-connector.md)</span><span class="sxs-lookup"><span data-stu-id="b36fe-107">It supplements the general instructions provided in the [Set up your Graph connector](configure-connector.md) article.</span></span> <span data-ttu-id="b36fe-108">Si aún no lo ha hecho, lea todo el artículo Configurar su Graph Connector para comprender el proceso de configuración general.</span><span class="sxs-lookup"><span data-stu-id="b36fe-108">If you have not already done so, read the entire Set up your Graph Connector article to understand the general setup process.</span></span>

<span data-ttu-id="b36fe-109">Cada paso del proceso de configuración se muestra a continuación junto con una nota que indica que debe seguir las [](#troubleshooting) instrucciones generales de configuración U otras instrucciones que se aplican solo al conector Graph ServiceNow, incluida la información sobre la solución de problemas y las limitaciones [.](#limitations)</span><span class="sxs-lookup"><span data-stu-id="b36fe-109">Each step in the setup process is listed below along with either a note that indicates you should follow the general setup instructions OR other instructions that apply to only ServiceNow Graph connector including information about [Troubleshooting](#troubleshooting) and [Limitations](#limitations).</span></span>  

## <a name="step-1-add-a-graph-connector-in-the-microsoft-365-admin-center"></a><span data-ttu-id="b36fe-110">Paso 1: Agregar un conector Graph en el centro Microsoft 365 administración.</span><span class="sxs-lookup"><span data-stu-id="b36fe-110">Step 1: Add a Graph connector in the Microsoft 365 admin center.</span></span>
<span data-ttu-id="b36fe-111">Siga las instrucciones generales de configuración.</span><span class="sxs-lookup"><span data-stu-id="b36fe-111">Follow the general setup instructions.</span></span>

## <a name="step-2-name-the-connection"></a><span data-ttu-id="b36fe-112">Paso 2: Asigne un nombre a la conexión.</span><span class="sxs-lookup"><span data-stu-id="b36fe-112">Step 2: Name the connection.</span></span>
<span data-ttu-id="b36fe-113">Siga las instrucciones generales de configuración.</span><span class="sxs-lookup"><span data-stu-id="b36fe-113">Follow the general setup instructions.</span></span>


## <a name="step-3-connection-settings"></a><span data-ttu-id="b36fe-114">Paso 3: Conexión Configuración</span><span class="sxs-lookup"><span data-stu-id="b36fe-114">Step 3: Connection Settings</span></span>
<span data-ttu-id="b36fe-115">Para conectarse a los datos de ServiceNow, necesita la dirección URL de instancia **de ServiceNow de su organización.**</span><span class="sxs-lookup"><span data-stu-id="b36fe-115">To connect to your ServiceNow data, you need your organization's **ServiceNow instance URL**.</span></span> <span data-ttu-id="b36fe-116">La dirección URL de instancia de ServiceNow de la organización suele ser similar a **https:// &lt; su-organización-dominio>.service-now.com**.</span><span class="sxs-lookup"><span data-stu-id="b36fe-116">Your organization’s ServiceNow instance URL typically looks like **https://&lt;your-organization-domain>.service-now.com**.</span></span> 

<span data-ttu-id="b36fe-117">Junto con esta dirección URL, necesitará una cuenta de servicio para configurar la conexión **a** ServiceNow, así como para permitir que Microsoft Search actualice periódicamente los artículos de conocimientos según la programación de actualización.</span><span class="sxs-lookup"><span data-stu-id="b36fe-117">Along with this URL, you will need a **service account** for setting up the connection to ServiceNow as well as for allowing Microsoft Search to periodically update the knowledge articles based on the refresh schedule.</span></span> <span data-ttu-id="b36fe-118">La cuenta de servicio necesitará acceso de lectura a los siguientes registros de tabla **de ServiceNow** para rastrear correctamente varias entidades.</span><span class="sxs-lookup"><span data-stu-id="b36fe-118">The service account will need read access to the following **ServiceNow table records** to successfully crawl various entities.</span></span>

<span data-ttu-id="b36fe-119">**Característica**</span><span class="sxs-lookup"><span data-stu-id="b36fe-119">**Feature**</span></span> | <span data-ttu-id="b36fe-120">**Tablas necesarias de acceso de lectura**</span><span class="sxs-lookup"><span data-stu-id="b36fe-120">**Read access required tables**</span></span> | <span data-ttu-id="b36fe-121">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="b36fe-121">**Description**</span></span>
--- | --- | ---
<span data-ttu-id="b36fe-122">Indexar artículos de conocimientos disponibles para <em>todos</em></span><span class="sxs-lookup"><span data-stu-id="b36fe-122">Index knowledge articles available to <em>Everyone</em></span></span> | <span data-ttu-id="b36fe-123">kb_knowledge</span><span class="sxs-lookup"><span data-stu-id="b36fe-123">kb_knowledge</span></span> | <span data-ttu-id="b36fe-124">Para rastrear artículos de conocimientos</span><span class="sxs-lookup"><span data-stu-id="b36fe-124">For crawling knowledge articles</span></span>
<span data-ttu-id="b36fe-125">Indexar y admitir permisos de criterios de usuario</span><span class="sxs-lookup"><span data-stu-id="b36fe-125">Index and support user criteria permissions</span></span> | <span data-ttu-id="b36fe-126">kb_uc_can_read_mtom</span><span class="sxs-lookup"><span data-stu-id="b36fe-126">kb_uc_can_read_mtom</span></span> | <span data-ttu-id="b36fe-127">Quién puede leer esta base de conocimientos</span><span class="sxs-lookup"><span data-stu-id="b36fe-127">Who can read this knowledge base</span></span>
| | <span data-ttu-id="b36fe-128">kb_uc_can_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="b36fe-128">kb_uc_can_contribute_mtom</span></span> | <span data-ttu-id="b36fe-129">Quién puede contribuir a esta base de conocimientos</span><span class="sxs-lookup"><span data-stu-id="b36fe-129">Who can contribute to this knowledge base</span></span>
| | <span data-ttu-id="b36fe-130">kb_uc_cannot_read_mtom</span><span class="sxs-lookup"><span data-stu-id="b36fe-130">kb_uc_cannot_read_mtom</span></span> | <span data-ttu-id="b36fe-131">Quién puede leer esta base de conocimientos</span><span class="sxs-lookup"><span data-stu-id="b36fe-131">Who cannot read this knowledge base</span></span>
| | <span data-ttu-id="b36fe-132">kb_uc_cannot_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="b36fe-132">kb_uc_cannot_contribute_mtom</span></span> | <span data-ttu-id="b36fe-133">Quién puede contribuir a esta base de conocimientos</span><span class="sxs-lookup"><span data-stu-id="b36fe-133">Who cannot contribute to this knowledge base</span></span>
| | <span data-ttu-id="b36fe-134">sys_user</span><span class="sxs-lookup"><span data-stu-id="b36fe-134">sys_user</span></span> | <span data-ttu-id="b36fe-135">Tabla de usuario de lectura</span><span class="sxs-lookup"><span data-stu-id="b36fe-135">Read user table</span></span>
| | <span data-ttu-id="b36fe-136">sys_user_has_role</span><span class="sxs-lookup"><span data-stu-id="b36fe-136">sys_user_has_role</span></span> | <span data-ttu-id="b36fe-137">Leer información de roles de los usuarios</span><span class="sxs-lookup"><span data-stu-id="b36fe-137">Read role information of users</span></span>
| | <span data-ttu-id="b36fe-138">sys_user_grmember</span><span class="sxs-lookup"><span data-stu-id="b36fe-138">sys_user_grmember</span></span> | <span data-ttu-id="b36fe-139">Leer pertenencia a grupos de usuarios</span><span class="sxs-lookup"><span data-stu-id="b36fe-139">Read group membership of users</span></span>
| | <span data-ttu-id="b36fe-140">user_criteria</span><span class="sxs-lookup"><span data-stu-id="b36fe-140">user_criteria</span></span> | <span data-ttu-id="b36fe-141">Leer permisos de criterios de usuario</span><span class="sxs-lookup"><span data-stu-id="b36fe-141">Read user criteria permissions</span></span>
| | <span data-ttu-id="b36fe-142">kb_knowledge_base</span><span class="sxs-lookup"><span data-stu-id="b36fe-142">kb_knowledge_base</span></span> | <span data-ttu-id="b36fe-143">Leer información de knowledge base</span><span class="sxs-lookup"><span data-stu-id="b36fe-143">Read knowledge base information</span></span>

<span data-ttu-id="b36fe-144">Puede crear **y asignar un rol para** la cuenta de servicio que use para conectarse con Microsoft Search.</span><span class="sxs-lookup"><span data-stu-id="b36fe-144">You can **create and assign a role** for the service account you use to connect with Microsoft Search.</span></span> <span data-ttu-id="b36fe-145">[Obtenga información sobre cómo asignar un rol para cuentas de ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span><span class="sxs-lookup"><span data-stu-id="b36fe-145">[Learn how to assign role for ServiceNow accounts](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span> <span data-ttu-id="b36fe-146">El acceso de lectura a las tablas se puede asignar en el rol creado.</span><span class="sxs-lookup"><span data-stu-id="b36fe-146">Read access to the tables can be assigned on the created role.</span></span> <span data-ttu-id="b36fe-147">Para obtener información sobre cómo establecer el acceso de lectura a los registros de tabla, vea [Securing Table Records](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls).</span><span class="sxs-lookup"><span data-stu-id="b36fe-147">To learn about setting read access to table records, see [Securing Table Records](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls).</span></span> 


>[!NOTE]
> <span data-ttu-id="b36fe-148">ServiceNow Graph Connector puede indizar artículos de conocimientos y permisos de criterios de usuario sin scripts avanzados.</span><span class="sxs-lookup"><span data-stu-id="b36fe-148">ServiceNow Graph Connector can index knowledge articles and user criteria permissions without advanced scripts.</span></span> <span data-ttu-id="b36fe-149">Si un criterio de usuario contiene un script avanzado, todos los artículos de conocimiento relacionados se ocultarán de los resultados de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="b36fe-149">If a user criteria contains advanced script all the related knowledge articles will be hidden from search results.</span></span>

<span data-ttu-id="b36fe-150">Para autenticar y sincronizar contenido de ServiceNow, elija **uno de los tres métodos** admitidos:</span><span class="sxs-lookup"><span data-stu-id="b36fe-150">To authenticate and sync content from ServiceNow, choose **one of three** supported methods:</span></span> 
 
- <span data-ttu-id="b36fe-151">Autenticación básica</span><span class="sxs-lookup"><span data-stu-id="b36fe-151">Basic authentication</span></span> 
- <span data-ttu-id="b36fe-152">ServiceNow OAuth (recomendado)</span><span class="sxs-lookup"><span data-stu-id="b36fe-152">ServiceNow OAuth (recommended)</span></span>
- <span data-ttu-id="b36fe-153">Azure AD OpenID Conectar</span><span class="sxs-lookup"><span data-stu-id="b36fe-153">Azure AD OpenID Connect</span></span>

## <a name="step-31-basic-authentication"></a><span data-ttu-id="b36fe-154">Paso 3.1: Autenticación básica</span><span class="sxs-lookup"><span data-stu-id="b36fe-154">Step 3.1: Basic authentication</span></span>

<span data-ttu-id="b36fe-155">Escriba el nombre de usuario y la contraseña de la cuenta de ServiceNow con **el rol de** conocimiento para autenticarse en la instancia.</span><span class="sxs-lookup"><span data-stu-id="b36fe-155">Enter the username and password of ServiceNow account with **knowledge** role to authenticate to your instance.</span></span>

## <a name="step-32-servicenow-oauth"></a><span data-ttu-id="b36fe-156">Paso 3.2: ServiceNow OAuth</span><span class="sxs-lookup"><span data-stu-id="b36fe-156">Step 3.2: ServiceNow OAuth</span></span>

<span data-ttu-id="b36fe-157">Para usar ServiceNow OAuth para la autenticación, un administrador de ServiceNow debe aprovisionar un punto de conexión en la instancia de ServiceNow, para que la aplicación de Búsqueda de Microsoft pueda tener acceso a él.</span><span class="sxs-lookup"><span data-stu-id="b36fe-157">To use ServiceNow OAuth for authentication, a ServiceNow admin needs to provision an endpoint in your ServiceNow instance, so that the Microsoft Search app can access it.</span></span> <span data-ttu-id="b36fe-158">Para obtener más información, vea [Create an endpoint for clients to access the instance](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) en la documentación de ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="b36fe-158">To learn more, see [Create an endpoint for clients to access the instance](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) in the ServiceNow documentation.</span></span>

<span data-ttu-id="b36fe-159">En la tabla siguiente se proporcionan instrucciones sobre cómo rellenar el formulario de creación de extremos:</span><span class="sxs-lookup"><span data-stu-id="b36fe-159">The following table provides guidance on how to fill out the endpoint creation form:</span></span>

<span data-ttu-id="b36fe-160">Campo</span><span class="sxs-lookup"><span data-stu-id="b36fe-160">Field</span></span> | <span data-ttu-id="b36fe-161">Descripción</span><span class="sxs-lookup"><span data-stu-id="b36fe-161">Description</span></span> | <span data-ttu-id="b36fe-162">Valor recomendado</span><span class="sxs-lookup"><span data-stu-id="b36fe-162">Recommended Value</span></span> 
--- | --- | ---
<span data-ttu-id="b36fe-163">Nombre</span><span class="sxs-lookup"><span data-stu-id="b36fe-163">Name</span></span> | <span data-ttu-id="b36fe-164">Valor único que identifica la aplicación para la que necesita acceso de OAuth.</span><span class="sxs-lookup"><span data-stu-id="b36fe-164">Unique value that identifies the application that you require OAuth access for.</span></span> | <span data-ttu-id="b36fe-165">Búsqueda de Microsoft</span><span class="sxs-lookup"><span data-stu-id="b36fe-165">Microsoft Search</span></span>
<span data-ttu-id="b36fe-166">Id. de cliente</span><span class="sxs-lookup"><span data-stu-id="b36fe-166">Client ID</span></span> | <span data-ttu-id="b36fe-167">Un identificador único de solo lectura generado automáticamente para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b36fe-167">A read-only, auto generated unique ID for the application.</span></span> <span data-ttu-id="b36fe-168">La instancia usa el identificador de cliente cuando solicita un token de acceso.</span><span class="sxs-lookup"><span data-stu-id="b36fe-168">The instance uses the client ID when it requests an access token.</span></span> | <span data-ttu-id="b36fe-169">N/D</span><span class="sxs-lookup"><span data-stu-id="b36fe-169">NA</span></span>
<span data-ttu-id="b36fe-170">Secreto de cliente</span><span class="sxs-lookup"><span data-stu-id="b36fe-170">Client secret</span></span> | <span data-ttu-id="b36fe-171">Con esta cadena secreta compartida, la instancia de ServiceNow y Microsoft Search autorizan las comunicaciones entre sí.</span><span class="sxs-lookup"><span data-stu-id="b36fe-171">With this shared secret string, the ServiceNow instance and Microsoft Search authorize communications with each other.</span></span> | <span data-ttu-id="b36fe-172">Siga los procedimientos recomendados de seguridad tratando el secreto como una contraseña.</span><span class="sxs-lookup"><span data-stu-id="b36fe-172">Follow security best-practices by treating the secret as a password.</span></span>
<span data-ttu-id="b36fe-173">Dirección URL de redireccionamiento</span><span class="sxs-lookup"><span data-stu-id="b36fe-173">Redirect URL</span></span> | <span data-ttu-id="b36fe-174">Dirección URL de devolución de llamada necesaria a la que redirige el servidor de autorización.</span><span class="sxs-lookup"><span data-stu-id="b36fe-174">A required callback URL that the authorization server redirects to.</span></span> | https://gcs.office.com/v1.0/admin/oauth/callback
<span data-ttu-id="b36fe-175">URL del logotipo</span><span class="sxs-lookup"><span data-stu-id="b36fe-175">Logo URL</span></span> | <span data-ttu-id="b36fe-176">Dirección URL que contiene la imagen del logotipo de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b36fe-176">A URL that contains the image for the application logo.</span></span> | <span data-ttu-id="b36fe-177">N/D</span><span class="sxs-lookup"><span data-stu-id="b36fe-177">NA</span></span>
<span data-ttu-id="b36fe-178">Activo</span><span class="sxs-lookup"><span data-stu-id="b36fe-178">Active</span></span> | <span data-ttu-id="b36fe-179">Active la casilla para activar el Registro de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="b36fe-179">Select the check box to make the application registry active.</span></span> | <span data-ttu-id="b36fe-180">Establecer en activo</span><span class="sxs-lookup"><span data-stu-id="b36fe-180">Set to active</span></span>
<span data-ttu-id="b36fe-181">Actualizar duración del token</span><span class="sxs-lookup"><span data-stu-id="b36fe-181">Refresh token lifespan</span></span> | <span data-ttu-id="b36fe-182">El número de segundos que un token de actualización es válido.</span><span class="sxs-lookup"><span data-stu-id="b36fe-182">The number of seconds that a refresh token is valid.</span></span> <span data-ttu-id="b36fe-183">De forma predeterminada, los tokens de actualización expiran en 100 días (8.640.000 segundos).</span><span class="sxs-lookup"><span data-stu-id="b36fe-183">By default, refresh tokens expire in 100 days (8,640,000 seconds).</span></span> | <span data-ttu-id="b36fe-184">31.536.000 (1 año)</span><span class="sxs-lookup"><span data-stu-id="b36fe-184">31,536,000 (1 year)</span></span>
<span data-ttu-id="b36fe-185">Duración del token de acceso</span><span class="sxs-lookup"><span data-stu-id="b36fe-185">Access token lifespan</span></span> | <span data-ttu-id="b36fe-186">El número de segundos que un token de acceso es válido.</span><span class="sxs-lookup"><span data-stu-id="b36fe-186">The number of seconds that an access token is valid.</span></span> | <span data-ttu-id="b36fe-187">43.200 (12 horas)</span><span class="sxs-lookup"><span data-stu-id="b36fe-187">43,200 (12 hours)</span></span>

<span data-ttu-id="b36fe-188">Escriba el identificador de cliente y el secreto de cliente para conectarse a la instancia.</span><span class="sxs-lookup"><span data-stu-id="b36fe-188">Enter the client id and client secret to connect to your instance.</span></span> <span data-ttu-id="b36fe-189">Después de conectarse, use una credencial de cuenta de ServiceNow para autenticar el permiso para rastrear.</span><span class="sxs-lookup"><span data-stu-id="b36fe-189">After connecting, use a ServiceNow account credential to authenticate permission to crawl.</span></span> <span data-ttu-id="b36fe-190">La cuenta debe tener al menos un **rol de** conocimiento.</span><span class="sxs-lookup"><span data-stu-id="b36fe-190">The account should at least have **knowledge** role.</span></span> <span data-ttu-id="b36fe-191">Consulte la tabla al principio del paso [3:](#step-3-connection-settings) configuración de conexión para proporcionar acceso de lectura a más registros de tabla de ServiceNow y permisos de criterios de usuario de índice.</span><span class="sxs-lookup"><span data-stu-id="b36fe-191">Refer the table in the beginning of [step 3: connection settings](#step-3-connection-settings) for providing read access to more ServiceNow table records and index user criteria permissions.</span></span>

## <a name="step-33-azure-ad-openid-connect"></a><span data-ttu-id="b36fe-192">Paso 3.3: Azure AD OpenID Conectar</span><span class="sxs-lookup"><span data-stu-id="b36fe-192">Step 3.3: Azure AD OpenID Connect</span></span>

<span data-ttu-id="b36fe-193">Para usar Azure AD OpenID Conectar para la autenticación, siga los pasos que se indican a continuación.</span><span class="sxs-lookup"><span data-stu-id="b36fe-193">To use Azure AD OpenID Connect for authentication, follow the steps below.</span></span>

### <a name="step-331-register-a-new-application-in-azure-active-directory"></a><span data-ttu-id="b36fe-194">Paso 3.3.1: Registrar una nueva aplicación en Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="b36fe-194">Step 3.3.1: Register a new application in Azure Active Directory</span></span>

<span data-ttu-id="b36fe-195">Para obtener información sobre cómo registrar una nueva aplicación en Azure Active Directory, vea [Register an application](/azure/active-directory/develop/quickstart-register-app#register-an-application).</span><span class="sxs-lookup"><span data-stu-id="b36fe-195">To learn about registering a new application in Azure Active Directory, see [Register an application](/azure/active-directory/develop/quickstart-register-app#register-an-application).</span></span> <span data-ttu-id="b36fe-196">Seleccione directorio de organización de inquilino único.</span><span class="sxs-lookup"><span data-stu-id="b36fe-196">Select single tenant organizational directory.</span></span> <span data-ttu-id="b36fe-197">Uri de redireccionamiento no es necesario.</span><span class="sxs-lookup"><span data-stu-id="b36fe-197">Redirect URI isn't needed.</span></span> <span data-ttu-id="b36fe-198">Después del registro, anote el identificador de aplicación (cliente) y el identificador de directorio (inquilino).</span><span class="sxs-lookup"><span data-stu-id="b36fe-198">After registration, note down the Application (client) ID and Directory (tenant) ID.</span></span>

### <a name="step-332-create-a-client-secret"></a><span data-ttu-id="b36fe-199">Paso 3.3.2: Crear un secreto de cliente</span><span class="sxs-lookup"><span data-stu-id="b36fe-199">Step 3.3.2: Create a client secret</span></span>

<span data-ttu-id="b36fe-200">Para obtener información sobre cómo crear un secreto de cliente, vea [Creating a client secret](/azure/active-directory/develop/quickstart-register-app#add-a-client-secret).</span><span class="sxs-lookup"><span data-stu-id="b36fe-200">To learn about creating a client secret, see [Creating a client secret](/azure/active-directory/develop/quickstart-register-app#add-a-client-secret).</span></span> <span data-ttu-id="b36fe-201">Tome nota del secreto de cliente.</span><span class="sxs-lookup"><span data-stu-id="b36fe-201">Take a note of client secret.</span></span>

### <a name="step-333-retrieve-service-principal-object-identifier"></a><span data-ttu-id="b36fe-202">Paso 3.3.3: Recuperar el identificador de objeto de entidad de seguridad de servicio</span><span class="sxs-lookup"><span data-stu-id="b36fe-202">Step 3.3.3: Retrieve Service Principal Object Identifier</span></span>

<span data-ttu-id="b36fe-203">Siga los pasos para recuperar el identificador de objeto de entidad de seguridad de servicio</span><span class="sxs-lookup"><span data-stu-id="b36fe-203">Follow the steps to retrieve Service Principal Object Identifier</span></span>

1. <span data-ttu-id="b36fe-204">Ejecute PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b36fe-204">Run PowerShell.</span></span>

2. <span data-ttu-id="b36fe-205">Instale Azure PowerShell mediante el siguiente comando.</span><span class="sxs-lookup"><span data-stu-id="b36fe-205">Install Azure PowerShell using the following command.</span></span>

   ```powershell
   Install-Module -Name Az -AllowClobber -Scope CurrentUser
   ```

3. <span data-ttu-id="b36fe-206">Conectar a Azure.</span><span class="sxs-lookup"><span data-stu-id="b36fe-206">Connect to Azure.</span></span>

   ```powershell
   Connect-AzAccount
   ```

4. <span data-ttu-id="b36fe-207">Obtener identificador de objeto de entidad de seguridad de servicio.</span><span class="sxs-lookup"><span data-stu-id="b36fe-207">Get Service Principal Object Identifier.</span></span>

   ```powershell
   Get-AzADServicePrincipal -ApplicationId "Application-ID"
   ```
   <span data-ttu-id="b36fe-208">Reemplace "Id. de aplicación" por identificador de aplicación (cliente) (sin comillas) de la aplicación que registró en el paso 3.a.</span><span class="sxs-lookup"><span data-stu-id="b36fe-208">Replace "Application-ID" with Application (client) ID (without quotes) of the application you registered in step 3.a.</span></span> <span data-ttu-id="b36fe-209">Tenga en cuenta el valor del objeto ID de la salida de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b36fe-209">Note the value of ID object from PowerShell output.</span></span> <span data-ttu-id="b36fe-210">Es el id. de entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="b36fe-210">It's the Service Principal ID.</span></span>

<span data-ttu-id="b36fe-211">Ahora tiene toda la información necesaria de Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="b36fe-211">Now you have all the information required from Azure portal.</span></span> <span data-ttu-id="b36fe-212">En la tabla siguiente se proporciona un resumen rápido de la información.</span><span class="sxs-lookup"><span data-stu-id="b36fe-212">A quick summary of the information is given in the table below.</span></span>

<span data-ttu-id="b36fe-213">Propiedad</span><span class="sxs-lookup"><span data-stu-id="b36fe-213">Property</span></span> | <span data-ttu-id="b36fe-214">Descripción</span><span class="sxs-lookup"><span data-stu-id="b36fe-214">Description</span></span> 
--- | ---
<span data-ttu-id="b36fe-215">Id. de directorio (identificador de inquilino)</span><span class="sxs-lookup"><span data-stu-id="b36fe-215">Directory ID (Tenant ID)</span></span> | <span data-ttu-id="b36fe-216">Identificador único del Azure Active Directory inquilino, desde el paso 3.a.</span><span class="sxs-lookup"><span data-stu-id="b36fe-216">Unique ID of the Azure Active Directory tenant, from step 3.a.</span></span>
<span data-ttu-id="b36fe-217">Id. de aplicación (id. de cliente)</span><span class="sxs-lookup"><span data-stu-id="b36fe-217">Application ID (Client ID)</span></span> | <span data-ttu-id="b36fe-218">Identificador único de la aplicación registrada en el paso 3.a.</span><span class="sxs-lookup"><span data-stu-id="b36fe-218">Unique ID of the application registered in step 3.a.</span></span>
<span data-ttu-id="b36fe-219">Secreto de cliente</span><span class="sxs-lookup"><span data-stu-id="b36fe-219">Client Secret</span></span> | <span data-ttu-id="b36fe-220">La clave secreta de la aplicación (desde el paso 3.b).</span><span class="sxs-lookup"><span data-stu-id="b36fe-220">The secret key of the application (from step 3.b).</span></span> <span data-ttu-id="b36fe-221">Tráela como una contraseña.</span><span class="sxs-lookup"><span data-stu-id="b36fe-221">Treat it like a password.</span></span>
<span data-ttu-id="b36fe-222">Id. de entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="b36fe-222">Service Principal ID</span></span> | <span data-ttu-id="b36fe-223">Identidad de la aplicación que se ejecuta como servicio.</span><span class="sxs-lookup"><span data-stu-id="b36fe-223">An identity for the application running as a service.</span></span> <span data-ttu-id="b36fe-224">(desde el paso 3.c)</span><span class="sxs-lookup"><span data-stu-id="b36fe-224">(from step 3.c)</span></span>

### <a name="step-334-register-servicenow-application"></a><span data-ttu-id="b36fe-225">Paso 3.3.4: Registrar la aplicación ServiceNow</span><span class="sxs-lookup"><span data-stu-id="b36fe-225">Step 3.3.4: Register ServiceNow Application</span></span>

<span data-ttu-id="b36fe-226">La instancia de ServiceNow necesita la siguiente configuración:</span><span class="sxs-lookup"><span data-stu-id="b36fe-226">The ServiceNow instance needs the following configuration:</span></span>

1. <span data-ttu-id="b36fe-227">Registrar una nueva entidad OAuth OIDC.</span><span class="sxs-lookup"><span data-stu-id="b36fe-227">Register a new OAuth OIDC entity.</span></span> <span data-ttu-id="b36fe-228">Para obtener información, vea [Create an OAuth OIDC provider](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html).</span><span class="sxs-lookup"><span data-stu-id="b36fe-228">To learn, see [Create an OAuth OIDC provider](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html).</span></span>

2. <span data-ttu-id="b36fe-229">En la siguiente tabla se proporcionan instrucciones sobre cómo rellenar el formulario de registro del proveedor de OIDC</span><span class="sxs-lookup"><span data-stu-id="b36fe-229">The following table provides guidance on how to fill out OIDC provider registration form</span></span>

   <span data-ttu-id="b36fe-230">Campo</span><span class="sxs-lookup"><span data-stu-id="b36fe-230">Field</span></span> | <span data-ttu-id="b36fe-231">Descripción</span><span class="sxs-lookup"><span data-stu-id="b36fe-231">Description</span></span> | <span data-ttu-id="b36fe-232">Valor recomendado</span><span class="sxs-lookup"><span data-stu-id="b36fe-232">Recommended Value</span></span>
   --- | --- | ---
   <span data-ttu-id="b36fe-233">Nombre</span><span class="sxs-lookup"><span data-stu-id="b36fe-233">Name</span></span> | <span data-ttu-id="b36fe-234">Un nombre único que identifica la entidad OAuth OIDC.</span><span class="sxs-lookup"><span data-stu-id="b36fe-234">A unique name that identifies the OAuth OIDC entity.</span></span> | <span data-ttu-id="b36fe-235">Azure AD</span><span class="sxs-lookup"><span data-stu-id="b36fe-235">Azure AD</span></span>
   <span data-ttu-id="b36fe-236">Id. de cliente</span><span class="sxs-lookup"><span data-stu-id="b36fe-236">Client ID</span></span> | <span data-ttu-id="b36fe-237">El identificador de cliente de la aplicación registrada en el servidor OAuth OIDC de terceros.</span><span class="sxs-lookup"><span data-stu-id="b36fe-237">The client ID of the application registered in the third-party OAuth OIDC server.</span></span> <span data-ttu-id="b36fe-238">La instancia usa el identificador de cliente al solicitar un token de acceso.</span><span class="sxs-lookup"><span data-stu-id="b36fe-238">The instance uses the client ID when requesting an access token.</span></span> | <span data-ttu-id="b36fe-239">Id. de aplicación (cliente) del paso 3.a</span><span class="sxs-lookup"><span data-stu-id="b36fe-239">Application (Client) ID from step 3.a</span></span>
   <span data-ttu-id="b36fe-240">Secreto de cliente</span><span class="sxs-lookup"><span data-stu-id="b36fe-240">Client Secret</span></span> | <span data-ttu-id="b36fe-241">El secreto de cliente de la aplicación registrada en el servidor OAuth OIDC de terceros.</span><span class="sxs-lookup"><span data-stu-id="b36fe-241">The client secret of the application registered in the third-party OAuth OIDC server.</span></span> | <span data-ttu-id="b36fe-242">Secreto de cliente del paso 3.b</span><span class="sxs-lookup"><span data-stu-id="b36fe-242">Client Secret from step 3.b</span></span>

   <span data-ttu-id="b36fe-243">Todos los demás valores pueden ser predeterminados.</span><span class="sxs-lookup"><span data-stu-id="b36fe-243">All other values can be default.</span></span>

3. <span data-ttu-id="b36fe-244">En el formulario de registro del proveedor de OIDC, debe agregar una nueva configuración de proveedor de OIDC.</span><span class="sxs-lookup"><span data-stu-id="b36fe-244">In the OIDC provider registration form, you need to add a new OIDC provider configuration.</span></span> <span data-ttu-id="b36fe-245">Seleccione el icono de búsqueda en el campo Configuración del proveedor *OAuth OIDC* para abrir los registros de las configuraciones de OIDC.</span><span class="sxs-lookup"><span data-stu-id="b36fe-245">Select the search icon against *OAuth OIDC Provider Configuration* field to open the records of OIDC configurations.</span></span> <span data-ttu-id="b36fe-246">Seleccione Nuevo.</span><span class="sxs-lookup"><span data-stu-id="b36fe-246">Select New.</span></span>

4. <span data-ttu-id="b36fe-247">En la tabla siguiente se proporcionan instrucciones sobre cómo rellenar el formulario de configuración del proveedor de OIDC</span><span class="sxs-lookup"><span data-stu-id="b36fe-247">The following table provides guidance on how to fill out OIDC provider configuration form</span></span>

   <span data-ttu-id="b36fe-248">Campo</span><span class="sxs-lookup"><span data-stu-id="b36fe-248">Field</span></span> | <span data-ttu-id="b36fe-249">Valor recomendado</span><span class="sxs-lookup"><span data-stu-id="b36fe-249">Recommended Value</span></span>
   --- | ---
   <span data-ttu-id="b36fe-250">Proveedor de OIDC</span><span class="sxs-lookup"><span data-stu-id="b36fe-250">OIDC Provider</span></span> |  <span data-ttu-id="b36fe-251">Azure AD</span><span class="sxs-lookup"><span data-stu-id="b36fe-251">Azure AD</span></span>
   <span data-ttu-id="b36fe-252">URL de metadatos de OIDC</span><span class="sxs-lookup"><span data-stu-id="b36fe-252">OIDC Metadata URL</span></span> | <span data-ttu-id="b36fe-253">La dirección URL debe tener el formato https \: //login.microsoftonline.com/<tenandId">/.well-known/openid-configuration</span><span class="sxs-lookup"><span data-stu-id="b36fe-253">The URL must be in the form https\://login.microsoftonline.com/<tenandId">/.well-known/openid-configuration</span></span> <br/><span data-ttu-id="b36fe-254">Reemplace "tenantID" por el id. de directorio (inquilino) del paso 3.a.</span><span class="sxs-lookup"><span data-stu-id="b36fe-254">Replace "tenantID" with Directory (tenant) ID from step 3.a.</span></span>
   <span data-ttu-id="b36fe-255">Duración de la memoria caché de configuración de OIDC</span><span class="sxs-lookup"><span data-stu-id="b36fe-255">OIDC Configuration Cache Life Span</span></span> |  <span data-ttu-id="b36fe-256">120</span><span class="sxs-lookup"><span data-stu-id="b36fe-256">120</span></span>
   <span data-ttu-id="b36fe-257">Aplicación</span><span class="sxs-lookup"><span data-stu-id="b36fe-257">Application</span></span> | <span data-ttu-id="b36fe-258">Global</span><span class="sxs-lookup"><span data-stu-id="b36fe-258">Global</span></span>
   <span data-ttu-id="b36fe-259">Notificación de usuario</span><span class="sxs-lookup"><span data-stu-id="b36fe-259">User Claim</span></span> | <span data-ttu-id="b36fe-260">sub</span><span class="sxs-lookup"><span data-stu-id="b36fe-260">sub</span></span>
   <span data-ttu-id="b36fe-261">Campo de usuario</span><span class="sxs-lookup"><span data-stu-id="b36fe-261">User Field</span></span> | <span data-ttu-id="b36fe-262">Id. de usuario</span><span class="sxs-lookup"><span data-stu-id="b36fe-262">User ID</span></span>
   <span data-ttu-id="b36fe-263">Habilitar la comprobación de notificación JTI</span><span class="sxs-lookup"><span data-stu-id="b36fe-263">Enable JTI claim verification</span></span> | <span data-ttu-id="b36fe-264">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="b36fe-264">Disabled</span></span>

5. <span data-ttu-id="b36fe-265">Seleccione Enviar y actualizar el formulario Entidad OAuth OIDC.</span><span class="sxs-lookup"><span data-stu-id="b36fe-265">Select Submit and Update the OAuth OIDC Entity form.</span></span>

### <a name="step-335-create-a-servicenow-account"></a><span data-ttu-id="b36fe-266">Paso 3.3.5: Crear una cuenta de ServiceNow</span><span class="sxs-lookup"><span data-stu-id="b36fe-266">Step 3.3.5: Create a ServiceNow account</span></span>

<span data-ttu-id="b36fe-267">Consulte las instrucciones para crear una cuenta de ServiceNow, [crear un usuario en ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html).</span><span class="sxs-lookup"><span data-stu-id="b36fe-267">Refer the instructions to create a ServiceNow account, [create a user in ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html).</span></span>

<span data-ttu-id="b36fe-268">En la siguiente tabla se proporcionan instrucciones sobre cómo rellenar el registro de la cuenta de usuario de ServiceNow</span><span class="sxs-lookup"><span data-stu-id="b36fe-268">The following table provides guidance on how to fill out the ServiceNow user account registration</span></span>

<span data-ttu-id="b36fe-269">Campo</span><span class="sxs-lookup"><span data-stu-id="b36fe-269">Field</span></span> | <span data-ttu-id="b36fe-270">Valor recomendado</span><span class="sxs-lookup"><span data-stu-id="b36fe-270">Recommended Value</span></span>
--- | ---
<span data-ttu-id="b36fe-271">Id. de usuario</span><span class="sxs-lookup"><span data-stu-id="b36fe-271">User ID</span></span> | <span data-ttu-id="b36fe-272">Id. de entidad de servicio del paso 3.c</span><span class="sxs-lookup"><span data-stu-id="b36fe-272">Service Principal ID from step 3.c</span></span>
<span data-ttu-id="b36fe-273">Solo acceso al servicio web</span><span class="sxs-lookup"><span data-stu-id="b36fe-273">Web service access only</span></span> | <span data-ttu-id="b36fe-274">Checked</span><span class="sxs-lookup"><span data-stu-id="b36fe-274">Checked</span></span>

<span data-ttu-id="b36fe-275">Todos los demás valores se pueden dejar como predeterminados.</span><span class="sxs-lookup"><span data-stu-id="b36fe-275">All other values can be left to default.</span></span>

### <a name="step-336-enable-knowledge-role-for-the-servicenow-account"></a><span data-ttu-id="b36fe-276">Paso 3.3.6: Habilitar el rol De conocimiento para la cuenta de ServiceNow</span><span class="sxs-lookup"><span data-stu-id="b36fe-276">Step 3.3.6: Enable Knowledge role for the ServiceNow account</span></span>

<span data-ttu-id="b36fe-277">Obtenga acceso a la cuenta de ServiceNow que creó con el id. de entidad de seguridad de ServiceNow como id. de usuario y asigne el rol de conocimiento.</span><span class="sxs-lookup"><span data-stu-id="b36fe-277">Access the ServiceNow account you created with ServiceNow Principal ID as User ID and assign the knowledge role.</span></span> <span data-ttu-id="b36fe-278">Puede encontrar instrucciones para asignar un rol a una cuenta de ServiceNow aquí, [asigne un rol a un usuario](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span><span class="sxs-lookup"><span data-stu-id="b36fe-278">Instructions to assigning a role to a ServiceNow account can be found here, [assign a role to a user](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span> <span data-ttu-id="b36fe-279">Consulte la tabla al principio del paso [3:](#step-3-connection-settings) configuración de conexión para proporcionar acceso de lectura a más registros de tabla de ServiceNow y permisos de criterios de usuario de índice.</span><span class="sxs-lookup"><span data-stu-id="b36fe-279">Refer the table in the beginning of [step 3: connection settings](#step-3-connection-settings) for providing read access to more ServiceNow table records and index user criteria permissions.</span></span>

<span data-ttu-id="b36fe-280">Use id. de aplicación como id. de cliente (desde el paso 3.a) y secreto de cliente (desde el paso 3.b) en el Asistente para la configuración del centro de administración para autenticarse en la instancia de ServiceNow con Azure AD OpenID Conectar.</span><span class="sxs-lookup"><span data-stu-id="b36fe-280">Use Application ID as Client ID (from step 3.a), and Client secret (from step 3.b) in admin center configuration wizard to authenticate to your ServiceNow instance using Azure AD OpenID Connect.</span></span>

## <a name="step-4-select-properties-and-filter-data"></a><span data-ttu-id="b36fe-281">Paso 4: Seleccionar propiedades y filtrar datos</span><span class="sxs-lookup"><span data-stu-id="b36fe-281">Step 4: Select properties and filter data</span></span>

<span data-ttu-id="b36fe-282">En este paso, puede agregar o quitar las propiedades disponibles del origen de datos de ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="b36fe-282">In this step, you can add or remove available properties from your ServiceNow data source.</span></span> <span data-ttu-id="b36fe-283">Microsoft 365 ya ha seleccionado algunas propiedades de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="b36fe-283">Microsoft 365 has already selected few properties by default.</span></span>

<span data-ttu-id="b36fe-284">Con una cadena de consulta ServiceNow, puede especificar condiciones para sincronizar artículos.</span><span class="sxs-lookup"><span data-stu-id="b36fe-284">With a ServiceNow query string, you can specify conditions for syncing articles.</span></span> <span data-ttu-id="b36fe-285">Es como una cláusula **Where** en una **instrucción SQL Select.**</span><span class="sxs-lookup"><span data-stu-id="b36fe-285">It's like a **Where** clause in a **SQL Select** statement.</span></span> <span data-ttu-id="b36fe-286">Por ejemplo, puede elegir indizar solo los artículos publicados y activos.</span><span class="sxs-lookup"><span data-stu-id="b36fe-286">For example, you can choose to index only articles that are published and active.</span></span> <span data-ttu-id="b36fe-287">Para obtener información sobre cómo crear su propia cadena de consulta, vea [Generate an encoded query string using a filter](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html).</span><span class="sxs-lookup"><span data-stu-id="b36fe-287">To learn about creating your own query string, see [Generate an encoded query string using a filter](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html).</span></span>

<span data-ttu-id="b36fe-288">Use el botón de vista previa de resultados para comprobar los valores de ejemplo de las propiedades seleccionadas y el filtro de consulta.</span><span class="sxs-lookup"><span data-stu-id="b36fe-288">Use the preview results button to verify the sample values of the selected properties and query filter.</span></span>

## <a name="step-5-manage-search-permissions"></a><span data-ttu-id="b36fe-289">Paso 5: Administrar permisos de búsqueda</span><span class="sxs-lookup"><span data-stu-id="b36fe-289">Step 5: Manage search permissions</span></span>

<span data-ttu-id="b36fe-290">El conector servicenow admite permisos de búsqueda visibles **para** todos o solo las personas con acceso a este origen **de datos.**</span><span class="sxs-lookup"><span data-stu-id="b36fe-290">The ServiceNow connector supports search permissions visible to **Everyone** or **Only people with access to this data source**.</span></span> <span data-ttu-id="b36fe-291">Los datos indizados aparecen en los resultados de la búsqueda y son visibles para todos los usuarios de la organización o usuarios que tienen acceso a ellos mediante el permiso de criterios de usuario respectivamente.</span><span class="sxs-lookup"><span data-stu-id="b36fe-291">Indexed data appears in the search results and is visible to all users in the organization or users who have access to them via user criteria permission respectively.</span></span> <span data-ttu-id="b36fe-292">Si un artículo de conocimientos no está habilitado con criterios de usuario, aparecerá en los resultados de búsqueda de todos los usuarios de la organización.</span><span class="sxs-lookup"><span data-stu-id="b36fe-292">If a knowledge article is not enabled with a user criteria, it will appear in search results of everyone in the organization.</span></span>

<span data-ttu-id="b36fe-293">ServiceNow Graph Connector admite permisos de criterios de usuario predeterminados sin scripts avanzados.</span><span class="sxs-lookup"><span data-stu-id="b36fe-293">ServiceNow Graph Connector supports default user criteria permissions without advanced scripts.</span></span> <span data-ttu-id="b36fe-294">Cuando el conector encuentra un criterio de usuario con un script avanzado, todos los datos que usan ese criterio de usuario no aparecerán en los resultados de la búsqueda.</span><span class="sxs-lookup"><span data-stu-id="b36fe-294">When the connector encounters a user criteria with advanced script, all data using that user criteria will not appear in search results.</span></span>

>[!NOTE]
><span data-ttu-id="b36fe-295">Para elegir Solo las personas con acceso a este origen **de datos,** habilite las actualizaciones de versiones dirigidas en el espacio empresarial.</span><span class="sxs-lookup"><span data-stu-id="b36fe-295">To choose **Only people with access to this data source**, enable targeted release updates on your tenant.</span></span> <span data-ttu-id="b36fe-296">Para obtener información sobre cómo configurar la versión dirigida, consulte [Setup Targeted release options.](/microsoft-365/admin/manage/release-options-in-office-365?preserve-view=true&view=o365-worldwide)</span><span class="sxs-lookup"><span data-stu-id="b36fe-296">To learn about setting up targeted release, see [Setup Targeted release options.](/microsoft-365/admin/manage/release-options-in-office-365?preserve-view=true&view=o365-worldwide)</span></span>

<span data-ttu-id="b36fe-297">Si elige **Solo** personas con acceso a este origen de datos, deberá elegir si la instancia de ServiceNow tiene usuarios aprovisionados Azure Active Directory (AAD) o usuarios que no son AAD.</span><span class="sxs-lookup"><span data-stu-id="b36fe-297">If you choose **Only people with access to this data source**, you need to further choose whether your ServiceNow instance has Azure Active Directory (AAD) provisioned users or Non-AAD users.</span></span>

>[!NOTE]
><span data-ttu-id="b36fe-298">Si elige AAD como el tipo de origen de identidad, asegúrese de asignar la propiedad de origen UserPrincipalName (UPN) a la propiedad de destino de correo electrónico en ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="b36fe-298">If you choose AAD as the type of identity source, make sure you are assigning UserPrincipalName (UPN) source property to email targeted property in ServiceNow.</span></span> <span data-ttu-id="b36fe-299">Para comprobar o cambiar las asignaciones, vea [Customizing user provisioning attribute-mappings for SaaS applications in Azure Active Directory](/azure/active-directory/app-provisioning/customize-application-attributes).</span><span class="sxs-lookup"><span data-stu-id="b36fe-299">To verify or change your mappings, see [Customizing user provisioning attribute-mappings for SaaS applications in Azure Active Directory](/azure/active-directory/app-provisioning/customize-application-attributes).</span></span>

<span data-ttu-id="b36fe-300">Si ha elegido "no AAD" para el tipo de identidad, vea Asignar las identidades que no son de [Azure AD](map-non-aad.md) para obtener instrucciones sobre cómo asignar las identidades.</span><span class="sxs-lookup"><span data-stu-id="b36fe-300">If you have elected "non-AAD" for the identity type see [Map your non-Azure AD Identities](map-non-aad.md) for instructions on mapping the identities.</span></span> 

<span data-ttu-id="b36fe-301">También puede consultar el siguiente vídeo para obtener más información sobre cómo administrar permisos de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="b36fe-301">You can also refer the following video to learn more about managing search permissions.</span></span>

<span data-ttu-id="b36fe-302">[![Administración de permisos de búsqueda en Microsoft Graph Connector para ServiceNow](https://img.youtube.com/vi/TVSkJpk1RiE/hqdefault.jpg)](https://www.youtube.com/watch?v=TVSkJpk1RiE)</span><span class="sxs-lookup"><span data-stu-id="b36fe-302">[![Managing Search Permissions in Microsoft Graph Connector for ServiceNow](https://img.youtube.com/vi/TVSkJpk1RiE/hqdefault.jpg)](https://www.youtube.com/watch?v=TVSkJpk1RiE)</span></span>

## <a name="step-6-assign-property-labels"></a><span data-ttu-id="b36fe-303">Paso 6: Asignar etiquetas de propiedades</span><span class="sxs-lookup"><span data-stu-id="b36fe-303">Step 6: Assign property labels</span></span>

<span data-ttu-id="b36fe-304">Siga las instrucciones generales de configuración.</span><span class="sxs-lookup"><span data-stu-id="b36fe-304">Follow the general setup instructions.</span></span>

## <a name="step-7-manage-schema"></a><span data-ttu-id="b36fe-305">Paso 7: Administrar esquema</span><span class="sxs-lookup"><span data-stu-id="b36fe-305">Step 7: Manage schema</span></span>

<span data-ttu-id="b36fe-306">Siga las instrucciones generales de configuración.</span><span class="sxs-lookup"><span data-stu-id="b36fe-306">Follow the general setup instructions.</span></span>

## <a name="step-8-choose-refresh-settings"></a><span data-ttu-id="b36fe-307">Paso 8: Elegir la configuración de actualización</span><span class="sxs-lookup"><span data-stu-id="b36fe-307">Step 8: Choose refresh settings</span></span>

<span data-ttu-id="b36fe-308">Siga las instrucciones generales de configuración.</span><span class="sxs-lookup"><span data-stu-id="b36fe-308">Follow the general setup instructions.</span></span>

>[!NOTE]
><span data-ttu-id="b36fe-309">En el caso de las identidades, solo se aplicará el rastreo completo programado.</span><span class="sxs-lookup"><span data-stu-id="b36fe-309">For identities, only full crawl scheduled will be applied.</span></span>

## <a name="step-9-review-connection"></a><span data-ttu-id="b36fe-310">Paso 9: Revisar conexión</span><span class="sxs-lookup"><span data-stu-id="b36fe-310">Step 9: Review Connection</span></span>

<span data-ttu-id="b36fe-311">Siga las instrucciones [generales de configuración](./configure-connector.md).</span><span class="sxs-lookup"><span data-stu-id="b36fe-311">Follow the general [setup instructions](./configure-connector.md).</span></span>

<span data-ttu-id="b36fe-312">ServiceNow Graph connector tiene las siguientes limitaciones en su versión más reciente:</span><span class="sxs-lookup"><span data-stu-id="b36fe-312">ServiceNow Graph connector has the following limitations in its latest release:</span></span>

<span data-ttu-id="b36fe-313">Después de publicar la conexión, debe personalizar la página de resultados de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="b36fe-313">After publishing the connection, you need to customize the search results page.</span></span> <span data-ttu-id="b36fe-314">Para obtener información sobre cómo personalizar los resultados de búsqueda, [vea Personalizar la página de resultados de búsqueda](/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span><span class="sxs-lookup"><span data-stu-id="b36fe-314">To learn about customizing search results, see [Customize the search results page](/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span></span>

## <a name="limitations"></a><span data-ttu-id="b36fe-315">Limitaciones</span><span class="sxs-lookup"><span data-stu-id="b36fe-315">Limitations</span></span>
<span data-ttu-id="b36fe-316">ServiceNow Graph connector tiene las siguientes limitaciones en su versión más reciente:</span><span class="sxs-lookup"><span data-stu-id="b36fe-316">ServiceNow Graph connector has the following limitations in its latest release:</span></span>
- <span data-ttu-id="b36fe-317">La indización de artículos de conocimientos disponibles para todos los usuarios de una organización es una característica disponible en general.</span><span class="sxs-lookup"><span data-stu-id="b36fe-317">Indexing knowledge articles available to everyone in an organization is a generally available feature.</span></span>
- <span data-ttu-id="b36fe-318">*Solo las personas con acceso a esta* característica de origen de datos en el paso Administrar permisos de búsqueda están en el canal de lanzamiento dirigido y solo procesa permisos de criterios [de](https://hi.service-now.com/kb_view.do?sysparm_article=KB0550924) usuario.</span><span class="sxs-lookup"><span data-stu-id="b36fe-318">*Only people with access to this data source* feature under Manage Search permissions step is in targeted release channel and processes only [user criteria](https://hi.service-now.com/kb_view.do?sysparm_article=KB0550924) permissions.</span></span> <span data-ttu-id="b36fe-319">Cualquier otro tipo de permisos de acceso no se aplicará en los resultados de la búsqueda.</span><span class="sxs-lookup"><span data-stu-id="b36fe-319">Any other type of access permissions will not be applied in the search results.</span></span>
- <span data-ttu-id="b36fe-320">Los criterios de usuario con scripts avanzados no se admiten en la versión actual.</span><span class="sxs-lookup"><span data-stu-id="b36fe-320">User criteria with advanced scripts are not supported in the current version.</span></span> <span data-ttu-id="b36fe-321">Los artículos de conocimientos con esta restricción de acceso se indizarán con denegar el acceso de todos, es decir, no aparecerán en los resultados de búsqueda a ningún usuario hasta que los admitamos.</span><span class="sxs-lookup"><span data-stu-id="b36fe-321">Any knowledge articles with such an access restriction will be indexed with deny everyone access i.e. they will not appear in search results to any user until we support them.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="b36fe-322">Solución de problemas</span><span class="sxs-lookup"><span data-stu-id="b36fe-322">Troubleshooting</span></span>
<span data-ttu-id="b36fe-323">Después de publicar la conexión, personalizar la página de resultados, puede revisar el estado en la pestaña **Orígenes** de datos en el [Centro de administración.](https://admin.microsoft.com)</span><span class="sxs-lookup"><span data-stu-id="b36fe-323">After publishing your connection, customizing the results page, you can review the status under the **Data Sources** tab in the [admin center](https://admin.microsoft.com).</span></span> <span data-ttu-id="b36fe-324">Para obtener información sobre cómo realizar actualizaciones y eliminaciones, consulte [Manage your connector](manage-connector.md).</span><span class="sxs-lookup"><span data-stu-id="b36fe-324">To learn how to make updates and deletions, see [Manage your connector](manage-connector.md).</span></span>
<span data-ttu-id="b36fe-325">Puede encontrar los pasos para solucionar problemas que se ven a continuación.</span><span class="sxs-lookup"><span data-stu-id="b36fe-325">You can find troubleshooting steps for commonly seen issues below.</span></span>
### <a name="1-unable-to-login-due-to-single-sign-on-enabled-servicenow-instance"></a><span data-ttu-id="b36fe-326">1. No se puede iniciar sesión debido a la instancia Sign-On ServiceNow habilitada</span><span class="sxs-lookup"><span data-stu-id="b36fe-326">1. Unable to login due to Single Sign-On enabled ServiceNow instance</span></span>

<span data-ttu-id="b36fe-327">Si su organización ha habilitado Single Sign-On (SSO) en ServiceNow, es posible que tenga problemas para iniciar sesión con la cuenta de servicio.</span><span class="sxs-lookup"><span data-stu-id="b36fe-327">If your organization has enabled Single Sign-On (SSO) to ServiceNow, you may have trouble logging in with the service account.</span></span> <span data-ttu-id="b36fe-328">Puede abrir el inicio de sesión <em> `login.do` </em> basado en nombre de usuario y contraseña agregando a la dirección URL de la instancia de ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="b36fe-328">You can bring up username and password based login by adding <em> `login.do`</em> to the ServiceNow instance URL.</span></span> <span data-ttu-id="b36fe-329">Ejemplo.</span><span class="sxs-lookup"><span data-stu-id="b36fe-329">Example.</span></span> `https://<your-organization-domain>.service-now.com./login.do` 

### <a name="2-unauthorized-or-forbidden-response-to-api-request"></a><span data-ttu-id="b36fe-330">2. Respuesta no autorizada o prohibida a la solicitud de API</span><span class="sxs-lookup"><span data-stu-id="b36fe-330">2. Unauthorized or forbidden response to API request</span></span>

#### <a name="21-check-table-access-permissions"></a><span data-ttu-id="b36fe-331">2.1.</span><span class="sxs-lookup"><span data-stu-id="b36fe-331">2.1.</span></span> <span data-ttu-id="b36fe-332">Comprobar permisos de acceso a tablas</span><span class="sxs-lookup"><span data-stu-id="b36fe-332">Check table access permissions</span></span>
<span data-ttu-id="b36fe-333">Si ve una respuesta prohibida o no autorizada en el estado de conexión, compruebe si la cuenta de servicio ha requerido acceso a las tablas mencionadas en el paso [3: configuración de conexión](#step-3-connection-settings).</span><span class="sxs-lookup"><span data-stu-id="b36fe-333">If you see forbidden or unauthorized response in connection status, check if the service account has required access to the tables mentioned in [step 3: connection settings](#step-3-connection-settings).</span></span> <span data-ttu-id="b36fe-334">Compruebe si todas las columnas de las tablas tienen acceso de lectura.</span><span class="sxs-lookup"><span data-stu-id="b36fe-334">Please check whether all the columns in the tables have read access.</span></span>

#### <a name="22-check-if-servicenow-instance-behind-firewall"></a><span data-ttu-id="b36fe-335">2.2.</span><span class="sxs-lookup"><span data-stu-id="b36fe-335">2.2.</span></span> <span data-ttu-id="b36fe-336">Comprobar si la instancia de ServiceNow está detrás del firewall</span><span class="sxs-lookup"><span data-stu-id="b36fe-336">Check if ServiceNow instance behind firewall</span></span>
<span data-ttu-id="b36fe-337">Graph Es posible que connector no pueda llegar a la instancia de ServiceNow si está detrás de un firewall de red.</span><span class="sxs-lookup"><span data-stu-id="b36fe-337">Graph Connector may not be able to reach your ServiceNow instance if it is behind a network firewall.</span></span> <span data-ttu-id="b36fe-338">Necesitará permitir explícitamente el acceso a Graph connector.</span><span class="sxs-lookup"><span data-stu-id="b36fe-338">You will need explicitly allow access to Graph Connector service.</span></span> <span data-ttu-id="b36fe-339">Puede encontrar el intervalo de direcciones IP públicas de Graph Connector Service en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="b36fe-339">You can find public IP address range of Graph Connector Service in the table below.</span></span> <span data-ttu-id="b36fe-340">En función de la región del espacio empresarial, agrégála a la lista blanca de la red de instancia de ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="b36fe-340">Based on your tenant region, add it to your ServiceNow instance network whitelist.</span></span>

<span data-ttu-id="b36fe-341">**Entorno**</span><span class="sxs-lookup"><span data-stu-id="b36fe-341">**Environment**</span></span> | <span data-ttu-id="b36fe-342">**Región**</span><span class="sxs-lookup"><span data-stu-id="b36fe-342">**Region**</span></span> | <span data-ttu-id="b36fe-343">**Range**</span><span class="sxs-lookup"><span data-stu-id="b36fe-343">**Range**</span></span>
--- | --- | ---
<span data-ttu-id="b36fe-344">PROD</span><span class="sxs-lookup"><span data-stu-id="b36fe-344">PROD</span></span> | <span data-ttu-id="b36fe-345">Norteamérica</span><span class="sxs-lookup"><span data-stu-id="b36fe-345">North America</span></span> | <span data-ttu-id="b36fe-346">52.250.92.252/30, 52.224.250.216/30</span><span class="sxs-lookup"><span data-stu-id="b36fe-346">52.250.92.252/30, 52.224.250.216/30</span></span>
<span data-ttu-id="b36fe-347">PROD</span><span class="sxs-lookup"><span data-stu-id="b36fe-347">PROD</span></span> | <span data-ttu-id="b36fe-348">Europa</span><span class="sxs-lookup"><span data-stu-id="b36fe-348">Europe</span></span> | <span data-ttu-id="b36fe-349">20.54.41.208/30, 51.105.159.88/30</span><span class="sxs-lookup"><span data-stu-id="b36fe-349">20.54.41.208/30, 51.105.159.88/30</span></span> 
<span data-ttu-id="b36fe-350">PROD</span><span class="sxs-lookup"><span data-stu-id="b36fe-350">PROD</span></span> | <span data-ttu-id="b36fe-351">Asia Pacífico</span><span class="sxs-lookup"><span data-stu-id="b36fe-351">Asia Pacific</span></span> | <span data-ttu-id="b36fe-352">52.139.188.212/30, 20.43.146.44/30</span><span class="sxs-lookup"><span data-stu-id="b36fe-352">52.139.188.212/30, 20.43.146.44/30</span></span> 


<span data-ttu-id="b36fe-353">Si tiene otros problemas o desea proporcionar comentarios, escríbanos [aka.ms/TalkToGraphConnectors](https://aka.ms/TalkToGraphConnectors)</span><span class="sxs-lookup"><span data-stu-id="b36fe-353">If you have any other issues or want to provide feedback, write to us [aka.ms/TalkToGraphConnectors](https://aka.ms/TalkToGraphConnectors)</span></span>
