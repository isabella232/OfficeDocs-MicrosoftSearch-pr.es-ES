---
title: Personalizar la Búsqueda de Microsoft web
ms.author: jeffkizn
author: jypal
manager: jeffkizn
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Agregar verticales de búsqueda y personalizar resultados de búsqueda
ms.openlocfilehash: 6b6f0593a668e9c2c5c7fc5a62f7b5dd4a43a8bb
ms.sourcegitcommit: ea6905626de67090141039565282e4e0c53b43ac
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/07/2021
ms.locfileid: "53314023"
---
# <a name="customize-the-search-results-page"></a><span data-ttu-id="36d3c-103">Personalizar la página de resultados de búsqueda</span><span class="sxs-lookup"><span data-stu-id="36d3c-103">Customize the search results page</span></span>

<span data-ttu-id="36d3c-104">Puede crear verticales de búsqueda y tipos de resultados para personalizar los resultados de búsqueda que los usuarios ven cuando buscan en Microsoft [SharePoint](https://sharepoint.com/), [Microsoft Office](https://office.com)y Búsqueda de Microsoft en [Bing](https://bing.com).</span><span class="sxs-lookup"><span data-stu-id="36d3c-104">You can create search verticals and result types to customize the search results that users see when they search in Microsoft [SharePoint](https://sharepoint.com/), [Microsoft Office](https://office.com), and Microsoft Search in [Bing](https://bing.com).</span></span> <span data-ttu-id="36d3c-105">Las verticales facilitan a los usuarios encontrar la información que tienen permiso para ver.</span><span class="sxs-lookup"><span data-stu-id="36d3c-105">Verticals make it easier for users to find the information that they have permission to see.</span></span> <span data-ttu-id="36d3c-106">Por ejemplo, puede crear una vertical de búsqueda para los datos de análisis de marketing de software de terceros para los usuarios del departamento de marketing.</span><span class="sxs-lookup"><span data-stu-id="36d3c-106">For example, you could create a search vertical for marketing analysis data from third-party software for your users in the marketing department.</span></span> <span data-ttu-id="36d3c-107">También puede definir tipos de resultados y personalizar el diseño de estos datos.</span><span class="sxs-lookup"><span data-stu-id="36d3c-107">You can also define result types and customize the layout for this data.</span></span>  

<span data-ttu-id="36d3c-108">Puede crear verticales y tipos de resultados en estos niveles:</span><span class="sxs-lookup"><span data-stu-id="36d3c-108">You can create verticals and result types at these levels:</span></span>

- <span data-ttu-id="36d3c-109">**Nivel de** la organización: al agregar una vertical en el nivel de la organización, aparece en la página de resultados de búsqueda cuando los usuarios buscan desde su página de inicio de [SharePoint,](https://sharepoint.com/) en [Office](https://office.com)o en [Bing](https://bing.com).</span><span class="sxs-lookup"><span data-stu-id="36d3c-109">**Organization level** – When you add a vertical at the organization level, it appears on the search results page when users search from their [SharePoint](https://sharepoint.com/) start page, on [Office](https://office.com), or on [Bing](https://bing.com).</span></span>
- <span data-ttu-id="36d3c-110">**Nivel de** sitio: por ejemplo, es posible que desee permitir a los empleados de servicio al cliente buscar incidentes de gravedad *1* directamente desde el sitio de SharePoint departamento.</span><span class="sxs-lookup"><span data-stu-id="36d3c-110">**Site level** – For example, you might want to enable your customer service employees to search for *Severity 1* incidents directly from their department’s SharePoint site.</span></span>

## <a name="search-verticals-explained"></a><span data-ttu-id="36d3c-111">Se explicaron las verticales de búsqueda</span><span class="sxs-lookup"><span data-stu-id="36d3c-111">Search verticals explained</span></span>

<span data-ttu-id="36d3c-112">En la parte superior de la Búsqueda de Microsoft resultados, hay una fila de pestañas.</span><span class="sxs-lookup"><span data-stu-id="36d3c-112">At the top of the Microsoft Search results page, there's a row of tabs.</span></span> <span data-ttu-id="36d3c-113">Estas son las verticales de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="36d3c-113">These are the search verticals.</span></span> <span data-ttu-id="36d3c-114">Una vertical de búsqueda solo muestra resultados de un tipo determinado o de determinado contenido.</span><span class="sxs-lookup"><span data-stu-id="36d3c-114">A search vertical only shows results of a certain type or from certain content.</span></span> <span data-ttu-id="36d3c-115">Algunos ejemplos **son Archivos** o **Noticias.**</span><span class="sxs-lookup"><span data-stu-id="36d3c-115">Examples are **Files** or **News**.</span></span> <span data-ttu-id="36d3c-116">De forma predeterminada, Búsqueda de Microsoft los verticales **All**, **People**, **Files**, **Sites** y **News**.</span><span class="sxs-lookup"><span data-stu-id="36d3c-116">By default, Microsoft Search shows the verticals **All**, **People**, **Files**, **Sites**, and **News**.</span></span>  

<span data-ttu-id="36d3c-117">Puede agregar verticales de búsqueda que sean relevantes para su organización.</span><span class="sxs-lookup"><span data-stu-id="36d3c-117">You can add search verticals that are relevant to your organization.</span></span> <span data-ttu-id="36d3c-118">Aparecerán en la página de Búsqueda de Microsoft resultados de [SharePoint](https://sharepoint.com/), [Office](https://Office.com)y [Bing](https://bing.com).</span><span class="sxs-lookup"><span data-stu-id="36d3c-118">These will appear on the Microsoft Search results page in [SharePoint](https://sharepoint.com/), [Office](https://Office.com), and [Bing](https://bing.com).</span></span> <span data-ttu-id="36d3c-119">Por ejemplo, puede crear una vertical para contenido relacionado con el marketing y otra para ventas, en función del tipo de información que necesita cada grupo.</span><span class="sxs-lookup"><span data-stu-id="36d3c-119">For example, you could create a vertical for marketing-related content and another for sales, based on the type of information that each group needs.</span></span> <span data-ttu-id="36d3c-120">Puede agregar verticales para mostrar los resultados solo del contenido indizado a través de conectores.</span><span class="sxs-lookup"><span data-stu-id="36d3c-120">You can add verticals to show results only from content indexed via connectors.</span></span>  

### <a name="multiple-connections-in-a-vertical"></a><span data-ttu-id="36d3c-121">Varias conexiones en una vertical</span><span class="sxs-lookup"><span data-stu-id="36d3c-121">Multiple connections in a vertical</span></span>

<span data-ttu-id="36d3c-122">Ahora, una vertical de búsqueda puede obtener resultados de varios orígenes de conectores.</span><span class="sxs-lookup"><span data-stu-id="36d3c-122">A search vertical can now surface results from multiple connector sources.</span></span> <span data-ttu-id="36d3c-123">Esto proporciona una mayor flexibilidad en el diseño de la página de resultados de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="36d3c-123">This provides greater flexibility in designing your search result page.</span></span> <span data-ttu-id="36d3c-124">La experiencia administrativa existente de la configuración vertical permite seleccionar varias conexiones en el paso "Origen de contenido".</span><span class="sxs-lookup"><span data-stu-id="36d3c-124">The existing administrative experience of vertical setup allows you to select multiple connections in the "Content Source" step.</span></span>
<span data-ttu-id="36d3c-125">Si designa con precisión tantas etiquetas semánticas como sea posible, esta experiencia se mejorará.</span><span class="sxs-lookup"><span data-stu-id="36d3c-125">If you accurately appoint as many semantic labels as possible, this experience will be enhanced.</span></span> <span data-ttu-id="36d3c-126">Puede agregar etiquetas semánticas tras la definición y la ingesta del esquema.</span><span class="sxs-lookup"><span data-stu-id="36d3c-126">You can add semantic labels upon schema definition and ingestion.</span></span>

<span data-ttu-id="36d3c-127">[Esta](configure-connector.md#step-5-assign-property-labels) es la información adicional sobre cómo crear y administrar etiquetas semánticas.</span><span class="sxs-lookup"><span data-stu-id="36d3c-127">[Here](configure-connector.md#step-5-assign-property-labels) is additional information on how to create and manage semantic labels.</span></span>

> [!NOTE]
> <span data-ttu-id="36d3c-128">Varias conexiones en una vertical se encuentran actualmente en versión preliminar.</span><span class="sxs-lookup"><span data-stu-id="36d3c-128">Multiple connections in a vertical is currently in preview.</span></span> <span data-ttu-id="36d3c-129">Para obtener más información acerca de la vista previa, vea [Connectors preview features](connectors-overview.md#what-are-the-preview-features).</span><span class="sxs-lookup"><span data-stu-id="36d3c-129">For more information about preview, see [Connectors preview features](connectors-overview.md#what-are-the-preview-features).</span></span>

### <a name="things-you-should-know"></a><span data-ttu-id="36d3c-130">Cosas que debes saber</span><span class="sxs-lookup"><span data-stu-id="36d3c-130">Things you should know</span></span>

1. <span data-ttu-id="36d3c-131">Una conexión solo se puede agregar como origen de contenido debajo de una vertical.</span><span class="sxs-lookup"><span data-stu-id="36d3c-131">A connection can be added as a content source only under one vertical.</span></span> <span data-ttu-id="36d3c-132">No se permite volver a usar las conexiones en varias verticales.</span><span class="sxs-lookup"><span data-stu-id="36d3c-132">Reusing connections under multiple verticals is not allowed.</span></span>
2. <span data-ttu-id="36d3c-133">Si necesita configurar una consulta para una búsqueda vertical en la que se han agregado varios orígenes de conexión, se deben usar propiedades de origen comunes para crear una consulta de este tipo.</span><span class="sxs-lookup"><span data-stu-id="36d3c-133">If you need to set up a query for a search vertical where multiple connection sources have been added, common source properties should be used to create a such a query.</span></span>

## <a name="things-to-consider"></a><span data-ttu-id="36d3c-134">Consideraciones que se deben tener en cuenta</span><span class="sxs-lookup"><span data-stu-id="36d3c-134">Things to consider</span></span>

<span data-ttu-id="36d3c-135">Antes de empezar, asegúrese de que el conector se ha indizado.</span><span class="sxs-lookup"><span data-stu-id="36d3c-135">Before you start, make sure that the connector has been indexed.</span></span> <span data-ttu-id="36d3c-136">Esto puede tardar hasta 48 horas, según el tamaño del archivo.</span><span class="sxs-lookup"><span data-stu-id="36d3c-136">This can take up to 48 hours, depending on the file size.</span></span>

<span data-ttu-id="36d3c-137">No puede crear una vertical para el contenido que reside en [SharePoint](https://sharepoint.com/).</span><span class="sxs-lookup"><span data-stu-id="36d3c-137">You can’t create a vertical for content that resides in [SharePoint](https://sharepoint.com/).</span></span>

<span data-ttu-id="36d3c-138">Hay tres pasos básicos para agregar una vertical:</span><span class="sxs-lookup"><span data-stu-id="36d3c-138">There are three basic steps to add a vertical:</span></span>

1. <span data-ttu-id="36d3c-139">Cree la vertical.</span><span class="sxs-lookup"><span data-stu-id="36d3c-139">Create the vertical.</span></span> <span data-ttu-id="36d3c-140">En este paso, se define el nombre, el origen de contenido y el ámbito de la vertical del contenido que se va a buscar.</span><span class="sxs-lookup"><span data-stu-id="36d3c-140">In this step, you define the vertical’s name, content source, and scope of the content to search.</span></span>
2. <span data-ttu-id="36d3c-141">Define cómo serán los resultados de esta vertical.</span><span class="sxs-lookup"><span data-stu-id="36d3c-141">Define what the results for this vertical will look like.</span></span>  
3. <span data-ttu-id="36d3c-142">Habilite la vertical (que se mostrará) de la página de lista vertical.</span><span class="sxs-lookup"><span data-stu-id="36d3c-142">Enable the vertical (to be displayed) from the vertical list page.</span></span>

## <a name="step-1-create-the-search-vertical"></a><span data-ttu-id="36d3c-143">PASO 1: Crear la búsqueda vertical</span><span class="sxs-lookup"><span data-stu-id="36d3c-143">STEP 1: Create the search vertical</span></span>

<span data-ttu-id="36d3c-144">Después de iniciar el asistente, se le guiará por los pasos para definir el nombre de la vertical, el origen de contenido y el ámbito del contenido que se va a buscar.</span><span class="sxs-lookup"><span data-stu-id="36d3c-144">After you start the wizard, you're guided through the steps to define the vertical's name, content source, and scope of the content to search.</span></span> <span data-ttu-id="36d3c-145">La vertical se crea en un estado deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="36d3c-145">The vertical is created in a disabled state.</span></span> <span data-ttu-id="36d3c-146">Lo habilitará más adelante.</span><span class="sxs-lookup"><span data-stu-id="36d3c-146">You'll enable it later.</span></span>

<span data-ttu-id="36d3c-147">Puede usar un conjunto limitado de lenguaje de consulta de palabras clave [(KQL)](/sharepoint/dev/general-development/keyword-query-language-kql-syntax-reference) para restringir el ámbito.</span><span class="sxs-lookup"><span data-stu-id="36d3c-147">You can use a limited set of [Keyword Query Language (KQL)](/sharepoint/dev/general-development/keyword-query-language-kql-syntax-reference) to narrow the scope.</span></span> <span data-ttu-id="36d3c-148">En esta página se enumeran las propiedades disponibles.</span><span class="sxs-lookup"><span data-stu-id="36d3c-148">This page lists the properties that are available.</span></span> <span data-ttu-id="36d3c-149">Se recomienda usar palabras clave de texto libre y restricciones de propiedades con operadores booleanos para crear KQL.</span><span class="sxs-lookup"><span data-stu-id="36d3c-149">We recommend that you use free-text keywords and property restrictions with boolean operators for creating the KQL.</span></span>
<span data-ttu-id="36d3c-150">KQL también admite el uso de variables de consulta [de perfil para](#profile-query-variables) ajustar los resultados en la vertical.</span><span class="sxs-lookup"><span data-stu-id="36d3c-150">KQL also supports the use of [profile query variables](#profile-query-variables) to fine-tune results under the vertical.</span></span>

### <a name="create-a-vertical-at-the-organization-level"></a><span data-ttu-id="36d3c-151">Crear una vertical en el nivel de la organización</span><span class="sxs-lookup"><span data-stu-id="36d3c-151">Create a vertical at the organization level</span></span>

<span data-ttu-id="36d3c-152">Para crear la vertical en Búsqueda de Microsoft en [SharePoint](https://sharepoint.com/) [principal,](https://office.com)Office , o [Bing](https://bing.com), siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="36d3c-152">To create the vertical on Microsoft Search in [SharePoint](https://sharepoint.com/) home, [Office](https://office.com), or [Bing](https://bing.com), follow these steps:</span></span>

1. <span data-ttu-id="36d3c-153">En el [Centro de administración de Microsoft 365](https://admin.microsoft.com), vaya a [**Verticales**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/verticals).</span><span class="sxs-lookup"><span data-stu-id="36d3c-153">In the [Microsoft 365 admin center](https://admin.microsoft.com), go to [**Verticals**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/verticals).</span></span>
2. <span data-ttu-id="36d3c-154">Seleccione **Agregar** para empezar.</span><span class="sxs-lookup"><span data-stu-id="36d3c-154">Select **Add** to get started.</span></span>  

### <a name="create-a-vertical-at-the-site-level"></a><span data-ttu-id="36d3c-155">Crear una vertical en el nivel de sitio</span><span class="sxs-lookup"><span data-stu-id="36d3c-155">Create a vertical at the site level</span></span>

1. <span data-ttu-id="36d3c-156">En el [SharePoint](https://sharepoint.com/) donde desea la vertical, vaya a **Configuración**.</span><span class="sxs-lookup"><span data-stu-id="36d3c-156">On the [SharePoint](https://sharepoint.com/) site where you want the vertical, go to **Settings**.</span></span>
2. <span data-ttu-id="36d3c-157">Seleccione **Información del sitio** y, a continuación, Ver toda la configuración del **sitio**.</span><span class="sxs-lookup"><span data-stu-id="36d3c-157">Select **Site information** and then **View all site settings**.</span></span>
3. <span data-ttu-id="36d3c-158">Busque la sección **Búsqueda de Microsoft** y, a continuación, seleccione **Configurar Búsqueda de Microsoft para esta colección de sitios**.</span><span class="sxs-lookup"><span data-stu-id="36d3c-158">Look for the **Microsoft Search** section, and then select **Configure Microsoft Search for this site collection**.</span></span>
4. <span data-ttu-id="36d3c-159">En el panel de navegación, vaya **a Experiencia personalizada** y, a continuación, seleccione la pestaña **Verticales.**</span><span class="sxs-lookup"><span data-stu-id="36d3c-159">In the navigation pane, go to **Custom experience**, and then select the **Verticals** tab.</span></span>
5. <span data-ttu-id="36d3c-160">Para agregar una vertical, seleccione **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="36d3c-160">To add a vertical, select **Add**.</span></span>
  <span data-ttu-id="36d3c-161">O bien, para editar una vertical, selecciónelo en la lista.</span><span class="sxs-lookup"><span data-stu-id="36d3c-161">Or, to edit a vertical, select it in the list.</span></span>

<span data-ttu-id="36d3c-162">Recuerde que las verticales se crean en un estado deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="36d3c-162">Remember, verticals are created in a disabled state.</span></span> <span data-ttu-id="36d3c-163">Deben estar habilitadas para que los usuarios puedan verlos.</span><span class="sxs-lookup"><span data-stu-id="36d3c-163">They must be enabled before users can see them.</span></span>

## <a name="step-2-create-the-result-types"></a><span data-ttu-id="36d3c-164">PASO 2: Crear los tipos de resultados</span><span class="sxs-lookup"><span data-stu-id="36d3c-164">STEP 2: Create the result types</span></span>

<span data-ttu-id="36d3c-165">Puede definir cómo se muestran los resultados en la vertical diseñando el diseño con tipos de resultados.</span><span class="sxs-lookup"><span data-stu-id="36d3c-165">You can define how results are displayed in the vertical by designing the layout using result types.</span></span> <span data-ttu-id="36d3c-166">El diseño de resultados le permite mostrar información importante directamente en los resultados de búsqueda, por lo que los usuarios no tienen que seleccionar cada resultado para ver si encontraron lo que están buscando.</span><span class="sxs-lookup"><span data-stu-id="36d3c-166">The result layout lets you show important information directly in the search results, so users don't have to select each result to see if they found what they're looking for.</span></span>

### <a name="default-search-result-layout"></a><span data-ttu-id="36d3c-167">Diseño de resultados de búsqueda predeterminado</span><span class="sxs-lookup"><span data-stu-id="36d3c-167">Default search result layout</span></span>

<span data-ttu-id="36d3c-168">Se mostrará un diseño de resultados  de búsqueda predeterminado para el contenido de Connector si las etiquetas y la propiedad **de** contenido se han asignado correctamente a las propiedades de origen en el momento de configurar el conector.</span><span class="sxs-lookup"><span data-stu-id="36d3c-168">A default search result layout will be shown for Connector content if **labels** and **content** property have been mapped correctly to the source properties at the time of configuring the connector.</span></span> <span data-ttu-id="36d3c-169">El título **de la** etiqueta es la etiqueta más importante.</span><span class="sxs-lookup"><span data-stu-id="36d3c-169">The label **title** is the most important label.</span></span> <span data-ttu-id="36d3c-170">Se recomienda **encarecidamente que** tenga una propiedad asignada a esta etiqueta para usar el diseño de resultados de búsqueda predeterminado.</span><span class="sxs-lookup"><span data-stu-id="36d3c-170">It is **strongly recommended** that you have a property assigned to this label to use default search result layout.</span></span>

### <a name="create-your-own-result-type"></a><span data-ttu-id="36d3c-171">Crear su propio tipo de resultado</span><span class="sxs-lookup"><span data-stu-id="36d3c-171">Create your own result type</span></span>

<span data-ttu-id="36d3c-172">Puede decidir crear su propio diseño de resultados de búsqueda e invalidar el diseño de resultados de búsqueda predeterminado mediante la creación de un **tipo de resultado**.</span><span class="sxs-lookup"><span data-stu-id="36d3c-172">You can decide to create your own search result layout and override the default search result layout by creating a **result type**.</span></span> <span data-ttu-id="36d3c-173">Un tipo de resultado de búsqueda es una regla que hace que diferentes tipos de resultados de búsqueda se muestren de manera distinta.</span><span class="sxs-lookup"><span data-stu-id="36d3c-173">A search result type is a rule that causes distinct kinds of search results to be displayed in different ways.</span></span> <span data-ttu-id="36d3c-174">Consta de lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="36d3c-174">It consists of the following:</span></span>

- <span data-ttu-id="36d3c-175">**Una o más condiciones para** comparar cada resultado de búsqueda, como el origen de contenido del resultado de la búsqueda.</span><span class="sxs-lookup"><span data-stu-id="36d3c-175">**One or more conditions** to compare each search result against, such as the content source of the search result.</span></span>  
- <span data-ttu-id="36d3c-176">Diseño **de resultados que** se usará para los resultados de búsqueda que cumplan las condiciones.</span><span class="sxs-lookup"><span data-stu-id="36d3c-176">A **result layout** to use for search results that meet the conditions.</span></span> <span data-ttu-id="36d3c-177">El diseño resultante controla la forma en que todos los resultados que cumplen las condiciones aparecen y se comportan en una página de resultados de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="36d3c-177">The resulting layout controls the way that all results that meet the conditions appear and behave on a search results page.</span></span>

<span data-ttu-id="36d3c-178">**Si no se realiza la asignación adecuada para mostrar el diseño de resultados de búsqueda predeterminado, debe crear al menos un tipo de resultado para que los resultados se muestren en la vertical.**</span><span class="sxs-lookup"><span data-stu-id="36d3c-178">**If appropriate mapping is not done to show default search result layout, You must create at least one result type for results to display on the vertical.**</span></span> <span data-ttu-id="36d3c-179">Puede crear varios tipos de resultados para cada vertical, lo que le permite usar diseños diferentes para diferentes tipos de resultados.</span><span class="sxs-lookup"><span data-stu-id="36d3c-179">You can create multiple result types for each vertical, which allows you to use different layouts for different type of results.</span></span> <span data-ttu-id="36d3c-180">Por ejemplo, puede personalizar los incidentes de gravedad *1* para que tengan colores más prominentes y una fuente más grande en comparación con incidentes de gravedad *3.*</span><span class="sxs-lookup"><span data-stu-id="36d3c-180">For example, you can customize *Severity 1* incidents to have more prominent colors and a larger font compared to *Severity 3* incidents.</span></span>

<span data-ttu-id="36d3c-181">Después de iniciar el asistente, se le guiará a través de los pasos para definir el nombre, el origen de contenido y las condiciones del tipo de resultado.</span><span class="sxs-lookup"><span data-stu-id="36d3c-181">After you start the wizard, you're guided through the steps to define the name, content source, and conditions for the result type.</span></span> <span data-ttu-id="36d3c-182">Puede definir la prioridad del tipo de resultado desde la vista de lista.</span><span class="sxs-lookup"><span data-stu-id="36d3c-182">You can define the priority of the result type from the list view.</span></span>
  
### <a name="create-a-result-type-at-the-organization-level"></a><span data-ttu-id="36d3c-183">Crear un tipo de resultado en el nivel de la organización</span><span class="sxs-lookup"><span data-stu-id="36d3c-183">Create a result type at the organization level</span></span>

1. <span data-ttu-id="36d3c-184">En el [Centro de administración de Microsoft 365](https://admin.microsoft.com), vaya a [**Tipos de resultados**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/resulttypes).</span><span class="sxs-lookup"><span data-stu-id="36d3c-184">In the [Microsoft 365 admin center](https://admin.microsoft.com), go to [**Result types**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/resulttypes).</span></span>
2. <span data-ttu-id="36d3c-185">Para agregar un **tipo de resultado,** seleccione **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="36d3c-185">To add a **Result type**, select **Add**.</span></span> <span data-ttu-id="36d3c-186">Para editar un tipo de resultado, seleccione el tipo de resultado en la lista correspondiente.</span><span class="sxs-lookup"><span data-stu-id="36d3c-186">To edit a result type, select the result type in the relevant list.</span></span>

### <a name="create-a-results-type-at-the-site-level"></a><span data-ttu-id="36d3c-187">Crear un tipo de resultados en el nivel de sitio</span><span class="sxs-lookup"><span data-stu-id="36d3c-187">Create a results type at the site level</span></span>

1. <span data-ttu-id="36d3c-188">En el [SharePoint](https://sharepoint.com/) donde desea crear el tipo de resultado, vaya **a Configuración**.</span><span class="sxs-lookup"><span data-stu-id="36d3c-188">On the [SharePoint](https://sharepoint.com/) site where you want to create the result type, go to **Settings**.</span></span>
2. <span data-ttu-id="36d3c-189">Seleccione **Información del sitio** y, a continuación, Ver toda la configuración del **sitio**.</span><span class="sxs-lookup"><span data-stu-id="36d3c-189">Select **Site information** and then **View all site settings**.</span></span>
3. <span data-ttu-id="36d3c-190">Busque la sección Búsqueda de Microsoft y, a continuación, seleccione **Configurar Búsqueda de Microsoft para esta colección de sitios**.</span><span class="sxs-lookup"><span data-stu-id="36d3c-190">Look for the Microsoft Search section, and then select **Configure Microsoft Search for this site collection**.</span></span>
4. <span data-ttu-id="36d3c-191">En el panel de navegación, vaya **a Experiencia personalizada** y seleccione Pestaña Tipo **de** resultado.</span><span class="sxs-lookup"><span data-stu-id="36d3c-191">In the navigation pane, go to **Custom experience**, and select **Result type** tab.</span></span>
5. <span data-ttu-id="36d3c-192">Para agregar un tipo de resultado, seleccione **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="36d3c-192">To add a result type, select **Add**.</span></span>  <span data-ttu-id="36d3c-193">O bien, para editar un tipo de resultado, seleccione el tipo de resultado en la lista.</span><span class="sxs-lookup"><span data-stu-id="36d3c-193">Or, to edit a result type, select the result type in the list.</span></span>

## <a name="step-3-view-the-vertical-after-its-enabled"></a><span data-ttu-id="36d3c-194">PASO 3: Ver la vertical después de habilitarla</span><span class="sxs-lookup"><span data-stu-id="36d3c-194">STEP 3: View the vertical after it's enabled</span></span>

<span data-ttu-id="36d3c-195">Después de habilitar la vertical, llevará unas horas antes de poder verlo.</span><span class="sxs-lookup"><span data-stu-id="36d3c-195">After you enable the vertical, it will take a few hours before you can view it.</span></span> <span data-ttu-id="36d3c-196">Si no desea esperar después de habilitarlo, puede anexar **cacheClear=true** a [](https://office.com) la dirección URL en [SharePoint](https://sharepoint.com/) y Office para ver la vertical inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="36d3c-196">If you don't want to wait after enabling it, you can append **cacheClear=true** to the URL in [SharePoint](https://sharepoint.com/) and [Office](https://office.com) to view the vertical immediately.</span></span> <span data-ttu-id="36d3c-197">Por [Bing](https://bing.com), anexa&**features=uncachedVerticals** a la dirección URL vertical de trabajo para ver las verticales inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="36d3c-197">For [Bing](https://bing.com), append **&features=uncachedVerticals** to the Work vertical URL to view the verticals immediately.</span></span>

> [!NOTE]
> <span data-ttu-id="36d3c-198">Las verticales agregadas no serán visibles en [SharePoint](https://sharepoint.com/) y [Office](https://office.com) cuando se ven desde exploradores web móviles.</span><span class="sxs-lookup"><span data-stu-id="36d3c-198">Added verticals will not be visible on [SharePoint](https://sharepoint.com/) and [Office](https://office.com) when viewed from mobile web browsers.</span></span>

## <a name="profile-query-variables"></a><span data-ttu-id="36d3c-199">Variables de consulta de perfil</span><span class="sxs-lookup"><span data-stu-id="36d3c-199">Profile query variables</span></span>

<span data-ttu-id="36d3c-200">Las variables de consulta se usan en la sección consulta KQL de una vertical para proporcionar datos dinámicos como entrada a la consulta de una vertical.</span><span class="sxs-lookup"><span data-stu-id="36d3c-200">Query variables are used in the KQL query section of a vertical to provide dynamic data as an input to the query of a vertical.</span></span> <span data-ttu-id="36d3c-201">Puede usar variables de consulta de perfil para contextualizar los resultados de la búsqueda al usuario que ha iniciado sesión.</span><span class="sxs-lookup"><span data-stu-id="36d3c-201">You can use profile query variables to make the search results contextual to the signed-in user.</span></span> <span data-ttu-id="36d3c-202">Las variables de consulta de perfil capturan valores del perfil del usuario que ha [iniciado sesión.](/graph/api/resources/profile?view=graph-rest-beta)</span><span class="sxs-lookup"><span data-stu-id="36d3c-202">Profile query variables fetch values from the signed-in user’s [profile](/graph/api/resources/profile?view=graph-rest-beta).</span></span>

<span data-ttu-id="36d3c-203">Por ejemplo, si desea crear una vertical "Tickets" donde un usuario que ha iniciado sesión pueda buscar vales de soporte técnico asignados, puede especificar la siguiente consulta en la sección "Consulta" durante la creación vertical en la página de administración.</span><span class="sxs-lookup"><span data-stu-id="36d3c-203">For example, if you want to create a “Tickets” vertical where a signed-in user can search for support tickets assigned to them, you can specify the following query under the "Query" section during the vertical creation in the administration page.</span></span>  

<span data-ttu-id="36d3c-204">**AssignedTo:{Profile.accounts.userPrincipalName}**</span><span class="sxs-lookup"><span data-stu-id="36d3c-204">**AssignedTo:{Profile.accounts.userPrincipalName}**</span></span>

<span data-ttu-id="36d3c-205">Esto limitará los resultados de la búsqueda para mostrar solo los elementos donde el usuario asignado es el usuario que realiza la búsqueda.</span><span class="sxs-lookup"><span data-stu-id="36d3c-205">This will narrow down the search results to show only those items where the assignee is the user performing the search.</span></span>

<span data-ttu-id="36d3c-206">[El recurso Profile](https://graph.microsoft.com/graph/api/resources/profile?view=graph-rest-beta) expone propiedades como colecciones.</span><span class="sxs-lookup"><span data-stu-id="36d3c-206">[Profile resource](https://graph.microsoft.com/graph/api/resources/profile?view=graph-rest-beta) exposes properties as collections.</span></span> <span data-ttu-id="36d3c-207">Por ejemplo, la información relacionada con las direcciones de correo electrónico se expone a través de la recopilación de correo electrónico, las posiciones de trabajo como colección de posiciones, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="36d3c-207">For example, information related to email addresses is exposed through email collection, work positions as positions collection, and so on.</span></span> <span data-ttu-id="36d3c-208">Todas las propiedades disponibles en el perfil de usuario, que tienen AAD como tipo de origen, se exponen como variables de consulta.</span><span class="sxs-lookup"><span data-stu-id="36d3c-208">All properties available in the user profile, which have AAD as the source type, are exposed as Query variables.</span></span>

<span data-ttu-id="36d3c-209">Considera un usuario que tiene 3 direcciones de correo electrónico disponibles en la colección de correo electrónico, como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="36d3c-209">Consider a user who has 3 email addresses available in the email collection, as shown below.</span></span>

```json
"emails": [{ 

        "address": "Megan.Bowen@contoso.com",
        "id": "xyz", 
        "source": { 
            "CreatedBy": "xyz", 
            "CreatedOn": "2222", 
            "Type": "official" 
        },
        "type": "main" 
    }, { 
        "address": "meganb@hotmail.com",
        "id": "abc", 
        "source": { 
            "CreatedBy": "abc",
            "CreatedOn": "3333", 
            "Type": "non-official",
        },
        "type": "work"
    }, { 
        "address": "meganb@outlook.com",
        "id": "pqr", 
        "source": { 
            "CreatedBy": "pqr", 
            "CreatedOn": "4444", 
            "Type": "personal" 
        },
        "type": "personal" 
    } 
] 
```

- <span data-ttu-id="36d3c-210">La consulta **MyProperty: {Profile.emails.address}** se resolverá en MyProperty: "Megan.Bowen@contoso.com".</span><span class="sxs-lookup"><span data-stu-id="36d3c-210">The query **MyProperty: {Profile.emails.address}** will resolve to MyProperty: “Megan.Bowen@contoso.com”.</span></span>  

- <span data-ttu-id="36d3c-211">Si desea resolver todos los valores del atributo address, debe usar la sintaxis de expansión de varios valores.</span><span class="sxs-lookup"><span data-stu-id="36d3c-211">If you wish to resolve all the values of the address attribute, you have to use the multi-value expansion syntax.</span></span> <span data-ttu-id="36d3c-212">La consulta **{| MyProperty:{Profile.emails.address}}** se resolverá en ((MyProperty:"Megan.Bowen@contoso.com") OR (MyProperty: "meganb@hotmail.com") OR (MyProperty:"meganb@outlook.com"))</span><span class="sxs-lookup"><span data-stu-id="36d3c-212">The query **{|MyProperty:{Profile.emails.address}}** will resolve to ((MyProperty:"Megan.Bowen@contoso.com") OR (MyProperty: "meganb@hotmail.com") OR (MyProperty:"meganb@outlook.com"))</span></span>  

<span data-ttu-id="36d3c-213">El operador "|" debe usarse para resolver variables de varios valores.</span><span class="sxs-lookup"><span data-stu-id="36d3c-213">The “|” operator should be used for resolving multi-value variables.</span></span> <span data-ttu-id="36d3c-214">Para obtener más ejemplos sobre la expansión de perfiles, consulte la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="36d3c-214">For more examples on profile expansion refer to the table below.</span></span>

| #         | <span data-ttu-id="36d3c-215">Sintaxis</span><span class="sxs-lookup"><span data-stu-id="36d3c-215">Syntax</span></span> |  <span data-ttu-id="36d3c-216">Valor devuelto</span><span class="sxs-lookup"><span data-stu-id="36d3c-216">Value returned</span></span>  |
| --------- | ------ | --- |
| <span data-ttu-id="36d3c-217">1</span><span class="sxs-lookup"><span data-stu-id="36d3c-217">1</span></span>    | <span data-ttu-id="36d3c-218">MyProperty:{Profile.emails.address}</span><span class="sxs-lookup"><span data-stu-id="36d3c-218">MyProperty:{Profile.emails.address}</span></span>  |   <span data-ttu-id="36d3c-219">"Megan.Bowen@contoso.com"</span><span class="sxs-lookup"><span data-stu-id="36d3c-219">"Megan.Bowen@contoso.com"</span></span>  |
| <span data-ttu-id="36d3c-220">2</span><span class="sxs-lookup"><span data-stu-id="36d3c-220">2</span></span> | <span data-ttu-id="36d3c-221">MyProperty:{Profile.emails}</span><span class="sxs-lookup"><span data-stu-id="36d3c-221">MyProperty:{Profile.emails}</span></span>   |    <span data-ttu-id="36d3c-222">{Profile.emails} Esto no se resolverá porque los correos electrónicos son un objeto.</span><span class="sxs-lookup"><span data-stu-id="36d3c-222">{Profile.emails} This will not resolve because emails are an object.</span></span>|
| <span data-ttu-id="36d3c-223">3</span><span class="sxs-lookup"><span data-stu-id="36d3c-223">3</span></span>    | <span data-ttu-id="36d3c-224">{? MyProperty:{Profile.emails}}</span><span class="sxs-lookup"><span data-stu-id="36d3c-224">{?MyProperty:{Profile.emails}}</span></span>  |  <span data-ttu-id="36d3c-225">Esto no se resolverá porque los correos electrónicos son un objeto.</span><span class="sxs-lookup"><span data-stu-id="36d3c-225">This will not resolve because emails is an object.</span></span> <span data-ttu-id="36d3c-226">El "?"</span><span class="sxs-lookup"><span data-stu-id="36d3c-226">The “?”</span></span> <span data-ttu-id="36d3c-227">operador omite las variables de consulta que no se resuelven.</span><span class="sxs-lookup"><span data-stu-id="36d3c-227">operator ignores query variables that do not resolve.</span></span> <span data-ttu-id="36d3c-228">Esta variable se quitará cuando se pase más abajo por la pila de consultas.</span><span class="sxs-lookup"><span data-stu-id="36d3c-228">This variable will be removed when passed further down the query stack.</span></span>   |
| <span data-ttu-id="36d3c-229">4 </span><span class="sxs-lookup"><span data-stu-id="36d3c-229">4</span></span> | <span data-ttu-id="36d3c-230">{&#124;MyProperty: {Profile.emails.source.Type}}</span><span class="sxs-lookup"><span data-stu-id="36d3c-230">{&#124;MyProperty: {Profile.emails.source.Type}}</span></span>    |  <span data-ttu-id="36d3c-231">((MyProperty:"official") OR (MyProperty:"non-official") OR (MyProperty:"personal"))</span><span class="sxs-lookup"><span data-stu-id="36d3c-231">((MyProperty:"official") OR (MyProperty:"non-official") OR (MyProperty:"personal"))</span></span>    |

> [!NOTE]
>
> - <span data-ttu-id="36d3c-232">Las variables de consulta de perfil solo se admiten para verticales personalizados que usan un [conector](connectors-overview.md) como origen de contenido.</span><span class="sxs-lookup"><span data-stu-id="36d3c-232">Profile query variables are only supported for custom verticals using a [connector](connectors-overview.md) as a content source.</span></span>
> - <span data-ttu-id="36d3c-233">Las variables de consulta de perfil se definen en la sección "Consulta" del [proceso de configuración vertical](customize-search-page.md#step-1-create-the-search-vertical).</span><span class="sxs-lookup"><span data-stu-id="36d3c-233">Profile query variables are defined on the “Query” section of the [vertical set up process](customize-search-page.md#step-1-create-the-search-vertical).</span></span>
> - <span data-ttu-id="36d3c-234">Las variables de consulta de perfil se encuentran actualmente en versión preliminar.</span><span class="sxs-lookup"><span data-stu-id="36d3c-234">Profile query variables is currently in preview.</span></span> <span data-ttu-id="36d3c-235">Para obtener más información acerca de la vista previa, vea [Connectors preview features](connectors-overview.md#what-are-the-preview-features).</span><span class="sxs-lookup"><span data-stu-id="36d3c-235">For more information about preview, see [Connectors preview features](connectors-overview.md#what-are-the-preview-features).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="36d3c-236">Solución de problemas</span><span class="sxs-lookup"><span data-stu-id="36d3c-236">Troubleshooting</span></span>

<span data-ttu-id="36d3c-237">Esta es una lista de problemas comunes que puede encontrar y acciones para solucionarlos.</span><span class="sxs-lookup"><span data-stu-id="36d3c-237">Here's a list of common issues you might encounter and actions to fix them.</span></span>

|<span data-ttu-id="36d3c-238">Error</span><span class="sxs-lookup"><span data-stu-id="36d3c-238">Error</span></span>  |<span data-ttu-id="36d3c-239">Acción</span><span class="sxs-lookup"><span data-stu-id="36d3c-239">Action</span></span>  |
|---------|---------|
| <span data-ttu-id="36d3c-240">Veo un mensaje de error "Algo salió mal" en la vertical.</span><span class="sxs-lookup"><span data-stu-id="36d3c-240">I see a "Something went wrong" error message on the vertical.</span></span> | <span data-ttu-id="36d3c-241">Tanto los tipos verticales como los de resultados son necesarios para completar la configuración.</span><span class="sxs-lookup"><span data-stu-id="36d3c-241">Both the vertical and result types are needed to complete the setup.</span></span> <span data-ttu-id="36d3c-242">Asegúrese de haber creado ambos para el mismo origen de contenido.</span><span class="sxs-lookup"><span data-stu-id="36d3c-242">Make sure you have created both for the same content source.</span></span> |
| <span data-ttu-id="36d3c-243">No veo el diseño de los resultados, aunque he creado uno.</span><span class="sxs-lookup"><span data-stu-id="36d3c-243">I don't see my result layout, although I created one.</span></span> | <span data-ttu-id="36d3c-244">Tarda unos minutos porque esta configuración suele almacenarse en caché.</span><span class="sxs-lookup"><span data-stu-id="36d3c-244">It takes a few minutes because these settings are generally cached.</span></span> <span data-ttu-id="36d3c-245">Espere unos minutos e inténtelo de nuevo.</span><span class="sxs-lookup"><span data-stu-id="36d3c-245">Wait for a few minutes and try again.</span></span>        |
| <span data-ttu-id="36d3c-246">No veo ningún orígenes de contenido en la página vertical o de tipo de resultado.</span><span class="sxs-lookup"><span data-stu-id="36d3c-246">I don't see any content sources on the vertical or result type page.</span></span> | <span data-ttu-id="36d3c-247">Asegúrese de que ha configurado conectores y datos indizados.</span><span class="sxs-lookup"><span data-stu-id="36d3c-247">Make sure you have configured connectors and indexed data.</span></span>   |

## <a name="next-steps"></a><span data-ttu-id="36d3c-248">Siguientes pasos</span><span class="sxs-lookup"><span data-stu-id="36d3c-248">Next steps</span></span>

[<span data-ttu-id="36d3c-249">Personalizar el diseño de resultados</span><span class="sxs-lookup"><span data-stu-id="36d3c-249">Customize the results layout</span></span>](customize-results-layout.md)
